{"version":3,"file":"index.esm.js","sources":["../src/protocols.ts","../node_modules/tslib/tslib.es6.js","../src/HashObject.ts","../src/QunityEvent.ts","../src/interpreter.ts","../src/assets-manager.ts","../src/Application.ts","../src/Component.ts","../src/ComponentManager.ts","../src/decorators/dirty-field.ts","../src/decorators/editor.ts","../src/vectors.ts","../src/EntityAdaptor.ts","../src/utils.ts","../node_modules/whatwg-fetch/fetch.js","../src/http-request.ts"],"sourcesContent":["/**\n * Created by rockyl on 2020-03-11.\n */\n\nimport {Application} from \"./Application\";\nimport {IEntity} from \"./IEntity\";\n\n//todo script,dynamic\nexport enum Protocols {\n\tASSET = 'asset://',\n\tENTITY = 'entity://',\n}\n\nexport const protocols = {\n\t[Protocols.ASSET]: asset,\n\t[Protocols.ENTITY]: entity,\n};\n\nfunction asset(app: Application, key: string, value: any): any {\n\tlet trulyValue;\n\n\tconst uuid = value.replace(Protocols.ASSET, '');\n\ttrulyValue = app.getAsset(uuid);\n\n\treturn trulyValue;\n}\n\nfunction entity(app: Application, key: string, value: any, pid?: number): IEntity {\n\tlet trulyValue;\n\n\tif(value){\n\t\tconst uuid = transPrefabUUID(value.replace(Protocols.ENTITY, ''), pid);\n\t\ttrulyValue = app.entityMap[uuid];\n\t}else{\n\t\ttrulyValue = null;\n\t}\n\n\treturn trulyValue;\n}\n\nfunction transPrefabUUID(uuid, pid: number) {\n\treturn pid ? pid + '_' + uuid : uuid;\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/**\n * Created by rockyl on 2018/11/5.\n */\n\nlet HASH_CODE_INK: number = 0;\n\nfunction getHashCode() {\n\treturn ++HASH_CODE_INK;\n}\n\n/**\n * 哈希对象\n */\nexport class HashObject {\n\tprivate _hashCode: number;\n\n\tconstructor() {\n\t\tthis._hashCode = getHashCode();\n\t}\n\n\tget hashCode(): number {\n\t\treturn this._hashCode;\n\t}\n}\n","/**\n * Created by rockyl on 2020-04-07.\n */\n\nimport {HashObject} from \"./HashObject\";\nimport {Protocols, protocols} from \"./protocols\";\n\n/**\n * 单一事件类\n * 一对多形式的订阅分发机制\n */\nexport class QunityEvent extends HashObject {\n\tprivate _subscribers: any[];\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis._subscribers = [];\n\t}\n\n\tprivate findListener(callback) {\n\t\tconst {_subscribers} = this;\n\n\t\tlet result;\n\t\tfor (let i = 0, li = _subscribers.length; i < li; i++) {\n\t\t\tconst subscriber = _subscribers[i];\n\n\t\t\tif (subscriber.callback == callback) {\n\t\t\t\tresult = {\n\t\t\t\t\tsubscriber,\n\t\t\t\t\tindex: i,\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * 添加侦听\n\t * @param callback\n\t * @param thisObj\n\t * @param priority\n\t * @param params\n\t */\n\taddListener(callback, thisObj?, priority = 0, ...params) {\n\t\tif (!callback) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst {_subscribers} = this;\n\n\t\tconst listener = this.findListener(callback);\n\t\tif (!listener) {\n\t\t\t_subscribers.push({\n\t\t\t\tcallback,\n\t\t\t\tthisObj,\n\t\t\t\tpriority,\n\t\t\t\tparams,\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * 添加侦听配置\n\t * @param config\n\t */\n\taddListenerConfig(config: any) {\n\t\tconst {entity, component: componentIndex, method: methodName} = config;\n\t\tif (entity && componentIndex >= 0 && methodName) {\n\t\t\tthis._subscribers.push(config);\n\t\t}\n\t}\n\n\t/**\n\t * 添加单次侦听\n\t * @param callback\n\t * @param thisObj\n\t * @param priority\n\t * @param params\n\t */\n\tonce(callback, thisObj?, priority = 0, ...params) {\n\t\tif (!callback) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst {_subscribers} = this;\n\n\t\tconst listener = this.findListener(callback);\n\t\tif (!listener) {\n\t\t\t_subscribers.push({\n\t\t\t\tcallback,\n\t\t\t\tthisObj,\n\t\t\t\tpriority,\n\t\t\t\tparams,\n\t\t\t\tonce: true,\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * 移除侦听\n\t * @param callback\n\t */\n\tremoveListener(callback) {\n\t\tif (!callback) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst {_subscribers} = this;\n\n\t\tif (typeof callback === 'object') {\n\t\t\t_subscribers.splice(_subscribers.indexOf(callback), 1);\n\t\t} else {\n\t\t\tconst listener = this.findListener(callback);\n\t\t\tif (listener) {\n\t\t\t\t_subscribers.splice(listener.index, 1);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * 是否已经侦听\n\t * @param callback\n\t */\n\thasListener(callback) {\n\t\treturn !!this.findListener(callback);\n\t}\n\n\t/**\n\t * 调用派发\n\t * @param paramsNew\n\t */\n\tinvoke(...paramsNew) {\n\t\tconst {_subscribers} = this;\n\n\t\t//按优先级降序\n\t\t_subscribers.sort((a, b) => {\n\t\t\treturn a.priority - b.priority;\n\t\t});\n\n\t\tfor (const subscriber of _subscribers) {\n\t\t\tif (subscriber) {\n\t\t\t\tlet callback, thisObj;\n\t\t\t\tconst {params, once} = subscriber;\n\t\t\t\tconst allParams = params.concat(paramsNew);\n\n\t\t\t\tif (subscriber.entity) {\n\t\t\t\t\tconst {entity, component: componentIndex, method: methodName} = subscriber;\n\t\t\t\t\tconst component = entity.getAllComponents()[componentIndex];\n\t\t\t\t\tif (component) {\n\t\t\t\t\t\tcallback = component[methodName];\n\t\t\t\t\t}\n\t\t\t\t\tthisObj = entity;\n\t\t\t\t} else {\n\t\t\t\t\tcallback = subscriber.callback;\n\t\t\t\t\tthisObj = subscriber.thisObj;\n\t\t\t\t}\n\n\t\t\t\tif (callback) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tcallback.apply(thisObj, allParams);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t//console.log(e);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (once) {\n\t\t\t\t\t\tif (subscriber.entity) {\n\t\t\t\t\t\t\tthis.removeListener(subscriber);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.removeListener(callback);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n","/**\n * Created by rockyl on 2020-03-10.\n */\n\nimport {IEntity} from \"./IEntity\";\nimport {Application} from \"./Application\";\nimport {Protocols, protocols} from \"./protocols\";\nimport {QunityEvent} from \"./QunityEvent\";\n\nlet prefabID: number = 0;\n\nconst specialProps = ['enabled', 'active', 'script',];\n\nexport interface IDoc {\n\tname: string,\n\ttype: 'scene' | 'prefab',\n\tfactory: Function,\n\tassets: any[],\n}\n\n/**\n * 实例化节点树\n * @param app\n * @param doc\n */\nexport function instantiate(app: Application, doc: IDoc) {\n\tif (doc) {\n\t\tlet view = doc.factory();\n\t\tlet pid;\n\t\tif (doc.type === 'prefab') {\n\t\t\tpid = ++prefabID;\n\t\t}\n\t\tsetupComponent(app, view, pid);\n\t\tenableComponent(app, view, pid);\n\n\t\treturn view;\n\t}\n}\n\n/**\n * 装配实体树\n * @param app\n * @param config\n * @param pid\n */\nfunction setupEntityTree(app: Application, config, pid?: number) {\n\tlet entity: IEntity = null;\n\tif (config) {\n\t\tlet {$type = 'Node', name, uuid, children, active} = config;\n\t\tif ($type === 'prefab') {\n\t\t\tlet {link} = config;\n\t\t\tlet prefabConfig = app.getAsset(link.replace('asset://', ''));\n\t\t\t//todo make callback\n\t\t\t//entity = instantiate(app, prefabConfig);\n\t\t} else {\n\t\t\tentity = app.createEntity($type);\n\t\t}\n\t\tif (pid !== undefined && uuid !== undefined) {\n\t\t\tuuid = pid + '_' + uuid;\n\t\t}\n\t\tif (name) {\n\t\t\tentity['name'] = name;\n\t\t}\n\t\tentity['uuid'] = uuid;\n\n\t\tif (active !== false) {\n\t\t\tentity.setActive(true);\n\t\t}\n\n\t\tinjectProps(app, entity, config);\n\n\t\tif (uuid !== undefined) {\n\t\t\tapp.entityMap[uuid] = entity;\n\t\t}\n\n\t\tif (children) {\n\t\t\tfor (let child of children) {\n\t\t\t\tconst childEntity = setupEntityTree(app, child, pid);\n\t\t\t\tapp.addDisplayNode(childEntity, entity);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn entity;\n}\n\n/**\n * 装配组件\n * @param app\n * @param entity\n * @param pid\n */\nfunction setupComponent(app: Application, entity, pid?: number) {\n\tif (!entity.children) {\n\t\treturn;\n\t}\n\tfor (let i = 0, li = entity.children.length; i < li; i++) {\n\t\tconst child: IEntity = entity.children[i];\n\t\tlet comps = child['$componentConfigs'];\n\t\tif (comps) {\n\t\t\tlet compManager = child.entityAdaptor.components;\n\t\t\tfor (let comp of comps) {\n\t\t\t\tlet component = compManager.addComponent(comp.script, false);\n\t\t\t\tcomponent.enabled = comp.enabled !== false;\n\t\t\t\tinjectProps(app, component, comp, pid);\n\t\t\t\tcompManager.$onAddComponent(component, true);\n\t\t\t}\n\t\t}\n\t\tsetupComponent(app, child, pid);\n\t}\n}\n\n/**\n * 使能组件\n * @param app\n * @param entity\n * @param pid\n */\nfunction enableComponent(app: Application, entity, pid?: number) {\n\tfor (let i = 0, li = entity.children.length; i < li; i++) {\n\t\tconst child: IEntity = entity.children[i];\n\n\t\tlet compManager = child.entityAdaptor.components;\n\t\tcompManager.setActive(true);\n\n\t\tenableComponent(app, child, pid);\n\t}\n}\n\n/**\n * 注入属性\n * @param app\n * @param target\n * @param props\n * @param pid\n */\nfunction injectProps(app: Application, target: any, props: any, pid?: number) {\n\tif (props && target) {\n\t\tfor (let field in props) {\n\t\t\tif (specialProps.indexOf(field) >= 0) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tlet value = props[field];\n\t\t\tif (typeof value === 'object') {//复杂数据\n\t\t\t\ttransComplexProps(app, target, field, value);\n\t\t\t} else {\n\t\t\t\ttransBaseProps(app, target, field, value, pid);\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction injectEvent(app: Application, listeners, pid?) {\n\tlet event = new QunityEvent();\n\tfor (const listener of listeners) {\n\t\tlistener.entity = protocols[Protocols.ENTITY](app, '', listener.entity, pid);\n\t\tevent.addListenerConfig(listener)\n\t}\n\treturn event;\n}\n\nfunction transComplexProps(app: Application, target: any, field: string, value: any, pid?: number) {\n\tlet trulyValue = value;\n\tlet override = false;\n\tswitch (value.type) {\n\t\tcase 'event':\n\t\t\ttrulyValue = injectEvent(app, value.payload, pid);\n\t\t\tbreak;\n\t\tcase 'raw':\n\t\t\toverride = true;\n\t\t\ttrulyValue = value.payload;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tif (Array.isArray(value) && !target[field]) {\n\t\t\t\ttarget[field] = [];\n\t\t\t}\n\t\t\tinjectProps(app, target[field], value, pid);\n\t\t\tbreak;\n\t}\n\n\tif (override) {\n\t\ttarget[field] = trulyValue;\n\t}\n}\n\n/**\n * 转换基础类型的属性\n * @param app\n * @param target\n * @param field\n * @param value\n * @param pid\n */\nfunction transBaseProps(app: Application, target: any, field: string, value: any, pid?: number) {\n\tlet trulyValue = value;\n\tif (typeof value === 'string') {\n\t\tlet hit;\n\t\tlet protocolGroups = [protocols, app.adaptorOptions.protocols];\n\t\tfor (let protocols of protocolGroups) {\n\t\t\tfor (let protocol in protocols) {\n\t\t\t\tif (value.indexOf(protocol) === 0) {\n\t\t\t\t\tlet protocolFunc = protocols[protocol];\n\t\t\t\t\ttrulyValue = protocolFunc(app, field, value, pid);\n\t\t\t\t\thit = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (hit) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\ttarget[field] = trulyValue;\n}\n\n//parse scene//\nexport function parseViewDoc(app: Application, docSource): IDoc {\n\tfunction p(props) {\n\t\tinjectProps(app, this, props);\n\n\t\tif (props.active !== false && this.setActive) {\n\t\t\tthis.setActive(true);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tfunction kv(props) {\n\t\tfor (let key in props) {\n\t\t\tthis[key] = props[key];\n\t\t}\n\t\treturn this;\n\t}\n\n\tfunction c(children) {\n\t\tfor (let child of children) {\n\t\t\tapp.addDisplayNode(child, this);\n\t\t}\n\t\treturn this;\n\t}\n\n\tfunction s(components) {\n\t\tObject.defineProperty(this, '$componentConfigs', {\n\t\t\tvalue: components,\n\t\t\twritable: false,\n\t\t\tenumerable: false,\n\t\t});\n\t\treturn this;\n\t}\n\n\tconst pixiNodes = {};\n\tconst requireContext = {\n\t\t'qunity': {\n\t\t\tDoc: function (props) {\n\t\t\t\tlet obj = {\n\t\t\t\t\tkv,\n\t\t\t\t\tp,\n\t\t\t\t};\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tdelete obj['kv'];\n\t\t\t\t\tdelete obj['p'];\n\t\t\t\t});\n\t\t\t\treturn obj.p(props);\n\t\t\t}\n\t\t},\n\t\t'qunity-pixi': pixiNodes,\n\t};\n\n\tfunction requireMethod(id) {\n\t\treturn requireContext[id];\n\t}\n\n\tconst entityNames = Object.keys(app.entityDefs);\n\tfor (let entityName of entityNames) {\n\t\tpixiNodes[entityName] = function (props) {\n\t\t\tlet entity = app.createEntity(entityName);\n\t\t\tif (props.uuid !== undefined) {\n\t\t\t\tapp.entityMap[props.uuid] = entity;\n\t\t\t}\n\n\t\t\tentity['kv'] = kv;\n\t\t\tentity['p'] = p;\n\t\t\tentity['c'] = c;\n\t\t\tentity['s'] = s;\n\t\t\tsetTimeout(function () {\n\t\t\t\tdelete entity['kv'];\n\t\t\t\tdelete entity['p'];\n\t\t\t\tdelete entity['c'];\n\t\t\t\tdelete entity['s'];\n\t\t\t});\n\t\t\treturn p.call(entity, props);\n\t\t}\n\t}\n\tlet func = new Function('require', 'exports', docSource);\n\tlet exports: any = {};\n\tfunc(requireMethod, exports);\n\treturn exports.doc;\n}\n","/**\n * Created by rockyl on 2020-03-20.\n */\nimport {Application} from \"./Application\";\n\nexport class AssetsManager {\n\tprivate _app: Application;\n\tprivate _assetCache = {};\n\n\tconstructor(app: Application) {\n\t\tthis._app = app;\n\t}\n\n\taddAsset(asset, opt) {\n\t\tthis._assetCache[opt.uuid || opt.name || opt.url] = asset;\n\t}\n\n\tgetAsset(uuid: string) {\n\t\treturn this._assetCache[uuid];\n\t}\n\n\tclean() {\n\t\tthis._assetCache = {};\n\t}\n}\n","/**\n * Created by rockyl on 2020-03-08.\n */\n\nimport {IEntityAdaptor} from \"./EntityAdaptor\";\nimport {IEntity} from \"./IEntity\";\nimport {IDoc, instantiate, parseViewDoc} from \"./interpreter\";\nimport {AssetsManager} from \"./assets-manager\";\n\nexport interface AdaptorOptions {\n\tstage: any;\n\tEntityAdaptor: any;\n\taddDisplayFunc: (node: IEntity, parent: IEntity) => void;\n\ttraverseFunc: (node: IEntity, callback: (node) => boolean | void) => void;\n\tbubblingFunc: (node: IEntity, callback: (node) => boolean | void) => void;\n\tloadAssetFunc: (config: any, onComplete: (res, opt) => void) => void;\n\tprotocols?: {\n\t\t[key: string]: (app: Application, key: string, value: any, pid?: number) => any,\n\t};\n\tcontext?: any;\n}\n\n/**\n * 应用\n */\nexport class Application {\n\tprivate _launchOptions: any;\n\tprivate _adaptorOptions: AdaptorOptions;\n\tprivate _componentDefs: any = {};\n\tprivate _entityDefs: any = {};\n\tprivate _manifest: any;\n\tprivate _docCaches: any = {};\n\tprivate _assetsManager: AssetsManager;\n\n\tentityMap = {};\n\n\t/**\n\t * 启动配置\n\t */\n\tget launchOptions(): any {\n\t\treturn this._launchOptions;\n\t}\n\n\t/**\n\t * 适配配置\n\t */\n\tget adaptorOptions(): AdaptorOptions {\n\t\treturn this._adaptorOptions;\n\t}\n\n\t/**\n\t * 获取上下文\n\t */\n\tget context() {\n\t\treturn this._adaptorOptions.context;\n\t}\n\n\t/**\n\t * 舞台实例\n\t */\n\tget stage() {\n\t\treturn this._adaptorOptions.stage;\n\t}\n\n\tconstructor() {\n\t\tthis._assetsManager = new AssetsManager(this);\n\t}\n\n\t/**\n\t * 启动\n\t * @param options\n\t * @param onProgress\n\t * @param onComplete\n\t */\n\tlaunch(options?: any, onProgress?, onComplete?) {\n\t\tthis._launchOptions = options;\n\t\tthis.loadAsset({url: 'manifest.json'},\n\t\t\t(asset) => {\n\t\t\t\tlet manifest = this._manifest = asset;\n\t\t\t\tlet entryScene = manifest.scene.entryScene;\n\t\t\t\tthis.launchScene(entryScene, {}, onProgress, onComplete);\n\t\t\t})\n\t}\n\n\t/**\n\t * 预加载场景\n\t * @param name\n\t * @param onProgress\n\t * @param onComplete\n\t */\n\tpreloadScene(name: string, onProgress?, onComplete?) {\n\t\tthis.loadScene(name, onProgress, onComplete);\n\t}\n\n\t/**\n\t * 加载场景\n\t * @param name\n\t * @param onProgress\n\t * @param onComplete\n\t */\n\tprivate loadScene(name: string, onProgress?, onComplete?) {\n\t\tlet scenes = this._manifest.scene.scenes;\n\n\t\tif (this._docCaches[name]) {\n\t\t\tlet scene = this._instantiateScene(this._docCaches[name]);\n\t\t\tonComplete(scene);\n\t\t\treturn;\n\t\t}\n\n\t\tlet sceneUrl = scenes[name];\n\t\tthis.loadAsset({url: sceneUrl, options: {xhrType: 'text'}},\n\t\t\t(asset) => {\n\t\t\t\tlet doc = parseViewDoc(this, asset);\n\t\t\t\tthis._docCaches[name] = doc;\n\n\t\t\t\tthis.loadAssets(doc.assets, onProgress, () => {\n\t\t\t\t\tlet scene = this._instantiateScene(doc);\n\t\t\t\t\tonComplete(scene);\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\t_instantiateScene(doc:IDoc) {\n\t\treturn this.instantiate(doc);\n\t}\n\n\t/**\n\t * 启动场景\n\t * @param name\n\t * @param options\n\t * @param onProgress\n\t * @param onComplete\n\t */\n\tlaunchScene(name: string, options?: any, onProgress?, onComplete?) {\n\t\tthis.loadScene(name, onProgress, (scene) => {\n\t\t\tthis.addDisplayNode(scene, this.stage);\n\n\t\t\tonComplete && onComplete();\n\t\t});\n\t}\n\n\t/**\n\t * 装配适配器\n\t * @param options\n\t * @return mainLoop 主循环方法\n\t */\n\tsetupAdaptor(options: AdaptorOptions): (delta: number) => void {\n\t\tthis._adaptorOptions = options;\n\t\treturn this._mainLoop;\n\t}\n\n\t/**\n\t * 实例化场景或者预制体\n\t * @param doc\n\t */\n\tinstantiate(doc: IDoc) {\n\t\treturn instantiate(this, doc);\n\t}\n\n\t/**\n\t * 注册组件类\n\t * @param id\n\t * @param def\n\t */\n\tregisterComponentDef(id, def) {\n\t\tif (def) {\n\t\t\tdef['__class__'] = id;\n\t\t\tthis._componentDefs[id] = def;\n\t\t}\n\t}\n\n\t/**\n\t * 批量注册组件类\n\t * @param defs {key: id, def}\n\t */\n\tregisterComponentDefs(defs) {\n\t\tif (defs) {\n\t\t\tfor (let id in defs) {\n\t\t\t\tthis.registerComponentDef(id, defs[id]);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * 注册实体类\n\t * @param type\n\t * @param def\n\t */\n\tregisterEntityDef(type, def) {\n\t\tif (def) {\n\t\t\tthis._entityDefs[type] = def;\n\t\t}\n\t}\n\n\t/**\n\t * 批量注册实体类\n\t * @param defs\n\t */\n\tregisterEntityDefs(defs) {\n\t\tif (defs) {\n\t\t\tfor (let type in defs) {\n\t\t\t\tthis.registerEntityDef(type, defs[type].def);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * 创建实体实例\n\t * @param type\n\t */\n\tcreateEntity(type: string): IEntity {\n\t\tlet clazz = this._entityDefs[type];\n\n\t\tif (clazz) {\n\t\t\tlet entity = new clazz();\n\t\t\tlet entityAdaptor = new this._adaptorOptions.EntityAdaptor(entity, this);\n\n\t\t\treturn entity;\n\t\t} else {\n\t\t\tthrow new Error(`type [${type}] not exists.`)\n\t\t}\n\t}\n\n\t/**\n\t * 获取全部已注册的实体定义\n\t */\n\tget entityDefs() {\n\t\treturn this._entityDefs;\n\t}\n\n\t/**\n\t * 添加显示节点\n\t * @param node\n\t * @param parent\n\t */\n\taddDisplayNode(node: IEntity, parent: IEntity) {\n\t\tthis._adaptorOptions.addDisplayFunc(node, parent);\n\t}\n\n\t/**\n\t * 遍历显示节点\n\t * @param node\n\t * @param callback\n\t */\n\ttraverseDisplayNode(node: IEntity, callback: (node) => boolean | void) {\n\t\tthis._adaptorOptions.traverseFunc(node, callback);\n\t}\n\n\t/**\n\t * 冒泡显示节点\n\t * @param node\n\t * @param callback\n\t */\n\tbubblingDisplayNode(node: IEntity, callback: (node) => boolean | void) {\n\t\tthis._adaptorOptions.bubblingFunc(node, callback);\n\t}\n\n\t/**\n\t * 加载单项资源\n\t * @param config\n\t * @param onComplete\n\t */\n\tloadAsset(config, onComplete?) {\n\t\tthis._adaptorOptions.loadAssetFunc(config, (item, opt) => {\n\t\t\tthis._assetsManager.addAsset(item, opt);\n\t\t\tonComplete && onComplete(item);\n\t\t});\n\t}\n\n\t/**\n\t * 加载资源\n\t * @param configs\n\t * @param onProgress\n\t * @param onComplete\n\t */\n\tloadAssets(configs, onProgress?, onComplete?) {\n\t\tlet total = configs.length;\n\t\tlet loaded = 0;\n\t\tfor (let config of configs) {\n\t\t\tthis.loadAsset(config, onItemComplete)\n\t\t}\n\n\t\tfunction onItemComplete(item) {\n\t\t\tloaded++;\n\t\t\tonProgress && onProgress(loaded, total, item);\n\t\t\tif (loaded >= total) {\n\t\t\t\tonComplete && onComplete();\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * 获取资源\n\t * @param uuid\n\t */\n\tgetAsset(uuid: string): any {\n\t\treturn this._assetsManager.getAsset(uuid);\n\t}\n\n\t/**\n\t * 主循环方法，需要在适配器的实现中调用\n\t * @param delta\n\t * @private\n\t */\n\tprivate _mainLoop = (delta: number) => {\n\t\tthis._adaptorOptions.traverseFunc(this._adaptorOptions.stage, this._onHit.bind(this, delta))\n\t};\n\n\t/**\n\t * 遍历整个渲染树\n\t * @param delta\n\t * @param node\n\t * @private\n\t */\n\tprivate _onHit(delta, node) {\n\t\tif (node['entityAdaptor']) {\n\t\t\tlet entityAdaptor: IEntityAdaptor = node['entityAdaptor'];\n\t\t\tentityAdaptor.invokeLifecycle('update', delta);\n\t\t}\n\t}\n\n\t/**\n\t * 实例化组件\n\t * @param id\n\t */\n\t$getComponentDef(id: any): any {\n\t\tlet def;\n\t\tlet idType = typeof id;\n\t\tswitch (idType) {\n\t\t\tcase 'string':\n\t\t\t\tdef = this._componentDefs[id];\n\t\t\t\tbreak;\n\t\t\tcase 'function':\n\t\t\t\tdef = id;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (!def) {\n\t\t\tconsole.warn(`component [${id}] not exists.`);\n\t\t\treturn;\n\t\t}\n\t\tconst className = def['__class__'];\n\t\tif (!className) {\n\t\t\tconsole.warn(`component [${id}] is not registered.`);\n\t\t\treturn;\n\t\t}\n\n\t\treturn def;\n\t}\n}\n","/**\n * Created by rockyl on 2019-07-28.\n */\n\nimport {HashObject} from \"./HashObject\";\nimport {IEntityAdaptor} from \"./EntityAdaptor\";\nimport {IEntity} from \"./IEntity\";\n\nexport interface IComponent {\n\treadonly entityAdaptor: IEntityAdaptor;\n\treadonly entity: any;\n\tenabled: boolean;\n\n\tbroadcast(methodName: string, ...args);\n\n\tbubbling(methodName: string, ...args);\n\n\tawake();\n\n\tstart();\n\n\tonEnable();\n\n\tonDisable();\n\n\tupdate(delta: number);\n\n\tonDestroy();\n\n\tonClick(e);\n\n\tonMouseDown(e);\n\n\tonMouseMove(e);\n\n\tonMouseUp(e);\n\n\tonMouseUpOutside(e);\n\n\t/**\n\t * 添加组件\n\t * @param componentId\n\t * @param enabled\n\t */\n\taddComponent(componentId: string | Function, enabled?: boolean): IComponent;\n\n\t/**\n\t * 移除组件\n\t * @param componentId\n\t * @param index\n\t */\n\tremoveComponent(componentId: string | Function, index?: number): IComponent[];\n\n\t/**\n\t * 移除所有组件\n\t */\n\tremoveAllComponents();\n\n\t/**\n\t * 获取组件\n\t * @param componentId\n\t */\n\tgetComponent(componentId: string | Function): IComponent;\n\n\t/**\n\t * 获取组件组\n\t * @param componentId\n\t */\n\tgetComponents(componentId: string | Function): IComponent[];\n\n\t/**\n\t * 获取全部组件\n\t */\n\tgetAllComponents(): IComponent[];\n}\n\n/**\n * 组件类\n */\nexport class Component extends HashObject implements IComponent {\n\tprivate _entityAdaptor: IEntityAdaptor;\n\tprivate _enabled: boolean = false;\n\tprivate _started: boolean = false;\n\n\tget entityAdaptor(): IEntityAdaptor {\n\t\treturn this._entityAdaptor;\n\t}\n\n\tget entity(): IEntity {\n\t\treturn this._entityAdaptor.entity;\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\n\t}\n\n\t/**\n\t * 是否有效\n\t */\n\tget enabled(): boolean {\n\t\treturn this._enabled;\n\t}\n\n\tset enabled(value: boolean) {\n\t\tif (this._enabled != value) {\n\t\t\tthis._enabled = value;\n\n\t\t\tif (this._entityAdaptor && this._entityAdaptor.getActive()) {\n\t\t\t\tif (value) {\n\t\t\t\t\tthis._started = false;\n\t\t\t\t\tthis.onEnable();\n\t\t\t\t} else {\n\t\t\t\t\tthis.onDisable();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t */\n\t$awake(entityAdaptor: IEntityAdaptor) {\n\t\tthis._entityAdaptor = entityAdaptor;\n\t\tthis.awake();\n\t}\n\n\t/**\n\t * @private\n\t */\n\t$destroy() {\n\t\tthis._entityAdaptor = null;\n\t\tthis.onDestroy();\n\t}\n\n\t/**\n\t * 当组件被唤醒时\n\t */\n\tawake() {\n\n\t}\n\n\t/**\n\t * 当组件开始\n\t */\n\tstart() {\n\n\t}\n\n\t/**\n\t * 当生效时\n\t * 仅当实体唤醒状态\n\t */\n\tonEnable() {\n\n\t}\n\n\t/**\n\t * 当失效时\n\t * 仅当实体唤醒状态\n\t */\n\tonDisable() {\n\n\t}\n\n\t/**\n\t * 时钟更新\n\t * @param delta\n\t */\n\tupdate(delta: number) {\n\n\t}\n\n\t/**\n\t * 当被销毁时\n\t */\n\tonDestroy() {\n\n\t}\n\n\t/**\n\t * @private\n\t * @param delta\n\t */\n\t$onUpdate(delta: number) {\n\t\tif (this._enabled) {\n\t\t\tif (!this._started) {\n\t\t\t\tthis._started = true;\n\t\t\t\tthis.start();\n\t\t\t}\n\t\t\tthis.update(delta);\n\t\t}\n\t}\n\n\t/**\n\t * 当点击时\n\t * @param e\n\t */\n\tonClick(e) {\n\t}\n\n\t/**\n\t * 当鼠标按下\n\t * @param e\n\t */\n\tonMouseDown(e) {\n\t}\n\n\t/**\n\t * 当鼠标移动\n\t * @param e\n\t */\n\tonMouseMove(e) {\n\t}\n\n\t/**\n\t * 当鼠标松开\n\t * @param e\n\t */\n\tonMouseUp(e) {\n\t}\n\n\t/**\n\t * 当鼠标在实体外侧松开\n\t * @param e\n\t */\n\tonMouseUpOutside(e) {\n\t}\n\n\t/**\n\t * 向下广播执行\n\t * @param methodName\n\t * @param args\n\t */\n\tbroadcast(methodName: string, ...args) {\n\t\tthis._entityAdaptor.app.traverseDisplayNode(this.entity, (node: IEntity) => {\n\t\t\tnode.invokeOnComponents && node.invokeOnComponents(methodName, args);\n\t\t})\n\t}\n\n\t/**\n\t * 向上冒泡执行\n\t * @param methodName\n\t * @param args\n\t */\n\tbubbling(methodName: string, ...args) {\n\t\tthis._entityAdaptor.app.bubblingDisplayNode(this.entity, (node: IEntity) => {\n\t\t\tnode.invokeOnComponents && node.invokeOnComponents(methodName, args);\n\t\t})\n\t}\n\n\taddComponent(componentId: string | Function, enabled?: boolean): IComponent {\n\t\treturn this.entity.addComponent(componentId, enabled);\n\t}\n\n\tgetAllComponents(): IComponent[] {\n\t\treturn this.entity.getAllComponents();\n\t}\n\n\tgetComponent(componentId: string | Function): IComponent {\n\t\treturn this.entity.getComponent(componentId);\n\t}\n\n\tgetComponents(componentId: string | Function): IComponent[] {\n\t\treturn this.entity.getComponents(componentId);\n\t}\n\n\tremoveAllComponents() {\n\t\treturn this.entity.removeAllComponents();\n\t}\n\n\tremoveComponent(componentId: string | Function, index?: number): IComponent[] {\n\t\treturn this.entity.removeComponent(componentId, index);\n\t}\n}\n","/**\n * Created by rockyl on 2019-07-29.\n */\n\nimport {Component} from \"./Component\";\nimport {IEntityAdaptor} from \"./EntityAdaptor\";\nimport {Application} from \"./Application\";\n\n/**\n * 组件管理类\n */\nexport class ComponentManager {\n\tprivate _app: Application;\n\tprivate _entityAdaptor: IEntityAdaptor;\n\tprivate _components: Component[] = [];\n\tprivate _componentsNameMapping: any;\n\tprivate _componentsDefMapping: any;\n\n\tconstructor(entityAdaptor: IEntityAdaptor, app: Application) {\n\t\tthis._app = app;\n\t\tthis._entityAdaptor = entityAdaptor;\n\n\t\tthis.applyProxy();\n\t}\n\n\tapplyProxy() {\n\t\tlet entity = this._entityAdaptor.entity;\n\n\t\tObject.defineProperty(entity, 'stage', {\n\t\t\tget() {\n\t\t\t\treturn this.entityAdaptor.app.stage;\n\t\t\t}\n\t\t});\n\t\tentity.addComponent = (componentId: string | Function, enabled: boolean = true) => {\n\t\t\treturn this.addComponent(componentId, true, enabled);\n\t\t};\n\t\tentity.removeComponent = (componentId: string | Function, index?: number) => {\n\t\t\treturn this.removeComponent(componentId, index);\n\t\t};\n\t\tentity.removeAllComponents = () => {\n\t\t\tthis.removeAllComponents();\n\t\t};\n\t\tentity.getComponent = (componentId: string | Function) => {\n\t\t\treturn this.getComponent(componentId);\n\t\t};\n\t\tentity.getComponents = (componentId: string | Function) => {\n\t\t\treturn this.getComponents(componentId);\n\t\t};\n\t\tentity.getAllComponents = () => {\n\t\t\treturn this.getAllComponents();\n\t\t};\n\t\tentity.invokeOnComponents = (methodName: string, args) => {\n\t\t\treturn this.invokeOnComponents(methodName, args);\n\t\t};\n\t}\n\n\t/**\n\t * 遍历组件\n\t * @param callback\n\t */\n\teachComponent(callback: (component: Component, index: number) => unknown) {\n\t\tthis._components.some(<any>callback);\n\t}\n\n\t/**\n\t * 设置激活状态\n\t * @param active\n\t */\n\tsetActive(active: boolean) {\n\t\tthis.eachComponent(component => {\n\t\t\tif (component.enabled) {\n\t\t\t\tif (active) {\n\t\t\t\t\tcomponent.onEnable();\n\t\t\t\t} else {\n\t\t\t\t\tcomponent.onDisable();\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\t/**\n\t * 时钟更新\n\t * @param t\n\t */\n\tonUpdate(t: number) {\n\t\tthis.eachComponent(component => {\n\t\t\tif (component.enabled) {\n\t\t\t\tcomponent.$onUpdate(t);\n\t\t\t}\n\t\t})\n\t}\n\n\t/**\n\t * 交互事件\n\t */\n\tonInteract(type: string, e) {\n\t\tthis.eachComponent(component => {\n\t\t\tif (component.enabled) {\n\t\t\t\tlet method = 'on' + type[0].toUpperCase() + type.substr(1);\n\n\t\t\t\tif (component[method]) {\n\t\t\t\t\tcomponent[method](e);\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\t/**\n\t * 添加组件\n\t * @param componentId\n\t * @param awake\n\t * @param enabled\n\t */\n\taddComponent(componentId: any, awake = true, enabled: boolean = false) {\n\t\tlet component = this.$instantiateComponent(componentId);\n\t\tif (!component) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(enabled){\n\t\t\tcomponent.enabled = true;\n\t\t}\n\t\tthis._add(component, undefined, awake);\n\n\t\treturn component;\n\t}\n\n\t/**\n\t * 移除组件\n\t * @param componentId\n\t * @param index\n\t */\n\tremoveComponent(componentId: any, index: number = 0) {\n\t\tlet components;\n\t\tswitch (typeof componentId) {\n\t\t\tcase 'string':\n\t\t\t\tcomponents = this._findByName(componentId);\n\t\t\t\tbreak;\n\t\t\tcase 'function':\n\t\t\t\tcomponents = this._find(componentId);\n\t\t\t\tbreak;\n\t\t}\n\t\tif (index !== undefined) {\n\t\t\tcomponents = [components[index]];\n\t\t}\n\n\t\tthis._remove(components);\n\n\t\treturn components;\n\t}\n\n\t/**\n\t * 移除所有组件\n\t */\n\tremoveAllComponents() {\n\t\tthis._removeAll();\n\t}\n\n\t/**\n\t * 获取组件\n\t * @param componentId\n\t */\n\tgetComponent(componentId) {\n\t\tswitch (typeof componentId) {\n\t\t\tcase 'string':\n\t\t\t\treturn this._getByName(componentId);\n\t\t\tcase 'function':\n\t\t\t\treturn this._getOne(componentId);\n\t\t}\n\t}\n\n\t/**\n\t * 获取组件组\n\t * @param componentId\n\t */\n\tgetComponents(componentId) {\n\t\tswitch (typeof componentId) {\n\t\t\tcase 'string':\n\t\t\t\treturn this._findByName(componentId);\n\t\t\tcase 'function':\n\t\t\t\treturn this._find(componentId);\n\t\t}\n\t}\n\n\t/**\n\t * 获取全部组件\n\t */\n\tgetAllComponents() {\n\t\treturn this.all;\n\t}\n\n\t/**\n\t * 添加组件\n\t * @param component\n\t * @param index\n\t * @param awake\n\t */\n\tprivate _add(component: Component, index?: number, awake = true) {\n\n\t\tif (index == undefined || index < 0 || index >= this._components.length) {\n\t\t\tindex = this._components.length;\n\t\t}\n\n\t\tif (component.entityAdaptor == this._entityAdaptor) {\n\t\t\tindex--;\n\t\t}\n\n\t\tconst currentIndex = this._components.indexOf(component);\n\t\tif (currentIndex == index) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (currentIndex >= 0) {\n\t\t\tthis._components.splice(currentIndex, 1);\n\t\t}\n\t\tthis._components.splice(index, 0, component);\n\n\t\tif (currentIndex < 0) {\n\t\t\tthis.$onAddComponent(component, awake);\n\t\t}\n\t}\n\n\t/**\n\t * 移除组件\n\t * @param components\n\t */\n\tprivate _remove(components) {\n\t\tfor (let component of components) {\n\t\t\tif (component) {\n\t\t\t\tthis.$onRemoveComponent(component);\n\t\t\t\tconst index = this._components.indexOf(component);\n\t\t\t\tthis._components.splice(index, 1);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * 移除所有组件\n\t */\n\tprivate _removeAll() {\n\t\twhile (this._components.length > 0) {\n\t\t\tconst component = this._components.shift();\n\t\t\tthis.$onRemoveComponent(component);\n\t\t}\n\t}\n\n\t/**\n\t * 根据组件名称获取指定类的组件列表\n\t * @param componentId\n\t */\n\tprivate _findByName<T extends Component>(componentId: string): T[] {\n\t\tlet components = this._componentsNameMapping[componentId];\n\t\tif (!components) {\n\t\t\tcomponents = this._componentsNameMapping[componentId] = <T[]>this._components.filter((component: Component) => {\n\t\t\t\treturn component.constructor['__class__'] === componentId;\n\t\t\t});\n\t\t}\n\t\treturn components;\n\t}\n\n\t/**\n\t * 获取指定类的组件列表\n\t * @param clazz\n\t */\n\tprivate _find<T extends Component>(clazz: new() => T): T[] {\n\t\tlet components = this._componentsDefMapping[clazz.name];\n\t\tif (!components) {\n\t\t\tcomponents = this._componentsDefMapping[clazz.name] = <T[]>this._components.filter((component: Component) => {\n\t\t\t\treturn component instanceof clazz;\n\t\t\t});\n\t\t}\n\t\treturn components;\n\t}\n\n\t/**\n\t * 获取指定类的组件\n\t * @param name\n\t */\n\tprivate _getByName<T extends Component>(name: string): T {\n\t\treturn this._findByName<T>(name)[0];\n\t}\n\n\t/**\n\t * 获取指定类的组件\n\t * @param clazz\n\t */\n\tprivate _getOne<T extends Component>(clazz: new() => T): T {\n\t\treturn this._find<T>(clazz)[0];\n\t}\n\n\t/**\n\t * 获取所有组件\n\t */\n\tprivate get all(): Component[] {\n\t\treturn this._components;\n\t}\n\n\t/**\n\t * 调用组件上的方法\n\t * @param methodName\n\t * @param args\n\t */\n\tinvokeOnComponents(methodName, args) {\n\t\tthis.eachComponent(component => {\n\t\t\t//if (component.enabled) {\n\t\t\t\tif (component[methodName]) {\n\t\t\t\t\tcomponent[methodName].apply(component, args);\n\t\t\t\t}\n\t\t\t//}\n\t\t})\n\t}\n\n\t/**\n\t * 当添加组件时\n\t * @param component\n\t * @param awake\n\t */\n\t$onAddComponent(component: Component, awake = true) {\n\t\tthis._componentsNameMapping = {};\n\t\tthis._componentsDefMapping = {};\n\n\t\tif (awake) {\n\t\t\tcomponent.$awake(this._entityAdaptor);\n\t\t}\n\t}\n\n\t/**\n\t * 当移除组件时\n\t * @param component\n\t */\n\t$onRemoveComponent(component: Component) {\n\t\tthis._componentsNameMapping = {};\n\t\tthis._componentsDefMapping = {};\n\n\t\tcomponent.enabled = false;\n\t\tcomponent.$destroy();\n\t}\n\n\t$instantiateComponent(componentId: any): Component {\n\t\tlet def = this._app.$getComponentDef(componentId);\n\t\treturn new def();\n\t}\n}\n","/**\n * Created by rockyl on 2018/11/9.\n *\n * 属性装饰器\n */\n\n/**\n * 属性修改时触发\n * @param onModify\n */\nexport function fieldChanged(onModify) {\n\treturn function (target: any, key: string) {\n\t\tconst privateKey = '_' + key;\n\t\tObject.defineProperty(target, key, {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn this[privateKey];\n\t\t\t},\n\t\t\tset: function (v) {\n\t\t\t\tconst oldValue = this[privateKey];\n\t\t\t\tif (oldValue !== v) {\n\t\t\t\t\tthis[privateKey] = v;\n\t\t\t\t\tonModify.apply(this, [v, key, oldValue]);\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n}\n\n/**\n * 属性变脏时设置宿主的dirty属性为true\n */\nexport const dirtyFieldDetector = fieldChanged(\n\tfunction (value, key, oldValue) {\n\t\tthis['__fieldDirty'] = true;\n\t}\n);\n\n/**\n * 深度属性变脏时设置宿主的dirty属性为true\n */\nexport const deepDirtyFieldDetector = fieldChanged(\n\tfunction (value, key, oldValue) {\n\t\tconst scope = this;\n\t\tscope['__fieldDirty'] = true;\n\t\tif (typeof value === 'object') {\n\t\t\tif (value.hasOwnProperty('onChange')) {\n\t\t\t\tvalue['onChange'] = this['$onModify'];\n\t\t\t} else {\n\t\t\t\tmutateObject(value, onChange);\n\t\t\t}\n\t\t}\n\n\t\tfunction onChange() {\n\t\t\tscope['__fieldDirty'] = true;\n\t\t}\n\t}\n);\n\n/**\n * 属性变脏时触发onModify方法\n */\nexport const dirtyFieldTrigger = fieldChanged(\n\tfunction (value, key, oldValue) {\n\t\tthis['$onModify'] && this['$onModify'](value, key, oldValue);\n\t}\n);\n\n/**\n * 深入属性变脏时触发onModify方法\n */\nexport const deepDirtyFieldTrigger = fieldChanged(\n\tfunction (value: any, key, oldValue) {\n\t\tlet onModify = this['$onModify'];\n\t\tconst scope = this;\n\t\tif (onModify) {\n\t\t\tonModify.call(scope, value, key, oldValue);\n\n\t\t\tif (typeof value === 'object') {\n\t\t\t\tif (value.hasOwnProperty('onChange')) {\n\t\t\t\t\tvalue['onChange'] = onChange;\n\t\t\t\t} else {\n\t\t\t\t\tmutateObject(value, onChange);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction onChange(_value, _key, _oldValue) {\n\t\t\tonModify.call(scope, value, key, oldValue, _key);\n\t\t}\n\t}\n);\n\nfunction mutateObject(data, onChange) {\n\tif (!data['__mutated__']) {\n\t\tfor (var key in data) {\n\t\t\tmutateProp(data, key, data[key], onChange);\n\t\t}\n\t\tObject.defineProperty(data, \"__mutated__\", {\n\t\t\tvalue: true,\n\t\t\twritable: false,\n\t\t\tenumerable: false,\n\t\t\tconfigurable: false\n\t\t});\n\t}\n}\n\nfunction mutateProp(data: any, key: string, value: any, onChange: Function): void {\n\tObject.defineProperty(data, key, {\n\t\tenumerable: true,\n\t\tconfigurable: false,\n\t\tget: () => {\n\t\t\treturn value;\n\t\t},\n\t\tset: v => {\n\t\t\tlet oldValue = value;\n\t\t\tif (v == value) return;\n\t\t\tvalue = v;\n\t\t\tonChange(value, key, oldValue);\n\t\t}\n\t});\n}\n","/**\n * Created by rockyl on 2020-04-01.\n */\n\n\n\n/**\n * 隐藏的属性\n */\nexport function hidden(){\n\n}\n","/**\n * Created by rockyl on 2018/11/6.\n *\n */\n\nimport {HashObject} from \"./HashObject\";\nimport {dirtyFieldTrigger} from \"./decorators\";\nimport {vector2} from \"./ReType\";\n\n/**\n * 2D矢量\n */\nexport class Vector2 extends HashObject implements vector2{\n\t/**\n\t * x分量\n\t */\n\t@dirtyFieldTrigger\n\tx: number;\n\t/**\n\t * y分量\n\t */\n\t@dirtyFieldTrigger\n\ty: number;\n\n\tonChange: Function;\n\n\t/**\n\t * 创建一个2D矢量\n\t * @param x x分量\n\t * @param y y分量\n\t * @param onChange 当改变时触发\n\t */\n\tconstructor(x: number = 0, y: number = 0, onChange?: Function) {\n\t\tsuper();\n\n\t\tthis.onChange = onChange;\n\n\t\tthis.setXY(x, y);\n\t}\n\n\t$onModify(value, key, oldValue) {\n\t\tthis.onChange && this.onChange(value, key, oldValue);\n\t}\n\n\t/**\n\t * 设置分量\n\t * @param x\n\t * @param y\n\t */\n\tsetXY(x: number = 0, y: number = 0): Vector2 {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * 从一个向量拷贝分量\n\t * @param v2\n\t */\n\tcopyFrom(v2): Vector2 {\n\t\tthis.x = v2.x;\n\t\tthis.y = v2.y;\n\t\treturn this;\n\t}\n\n\t/**\n\t * 克隆出一个向量\n\t */\n\tclone(): Vector2 {\n\t\treturn new Vector2(this.x, this.y);\n\t}\n\n\t/**\n\t * 把向量置空\n\t */\n\tzero(): Vector2 {\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * 是不是一个0向量\n\t */\n\tget isZero(): boolean {\n\t\treturn this.x == 0 && this.y == 0;\n\t}\n\n\t/**\n\t * 单位化向量\n\t */\n\tnormalize(): Vector2 {\n\t\tlet len = this.length;\n\t\tif (len == 0) {\n\t\t\tthis.x = 1;\n\t\t\treturn this;\n\t\t}\n\t\tthis.x /= len;\n\t\tthis.y /= len;\n\t\treturn this;\n\t}\n\n\t/**\n\t * 是不是一个单位向量\n\t */\n\tget isNormalized(): boolean {\n\t\treturn this.length == 1.0;\n\t}\n\n\t/**\n\t * 截取向量长度\n\t * @param max\n\t */\n\ttruncate(max): Vector2 {\n\t\tthis.length = Math.min(max, this.length);\n\t\treturn this;\n\t}\n\n\t/**\n\t * 向量反向\n\t */\n\treverse(): Vector2 {\n\t\tthis.x = -this.x;\n\t\tthis.y = -this.y;\n\t\treturn this;\n\t}\n\n\t/**\n\t * 获取点乘\n\t * @param v2\n\t */\n\tdotProd(v2): number {\n\t\treturn this.x * v2.x + this.y * v2.y;\n\t}\n\n\t/**\n\t * 获取叉乘\n\t * @param v2\n\t */\n\tcrossProd(v2): number {\n\t\treturn this.x * v2.y - this.y * v2.x;\n\t}\n\n\t/**\n\t * 获取长度的平方\n\t * @param v2\n\t */\n\tdistSQ(v2): number {\n\t\tlet dx = v2.x - this.x;\n\t\tlet dy = v2.y - this.y;\n\t\treturn dx * dx + dy * dy;\n\t}\n\n\t/**\n\t * 获取两个向量的距离\n\t * @param v2\n\t */\n\tdistance(v2): number {\n\t\treturn Math.sqrt(this.distSQ(v2));\n\t}\n\n\t/**\n\t * 向量加法\n\t * @param v2\n\t */\n\tadd(v2): Vector2 {\n\t\tthis.x += v2.x;\n\t\tthis.y += v2.y;\n\t\treturn this;\n\t}\n\n\t/**\n\t * 向量减法\n\t * @param v2\n\t */\n\tsubtract(v2): Vector2 {\n\t\tthis.x -= v2.x;\n\t\tthis.y -= v2.y;\n\t\treturn this;\n\t}\n\n\t/**\n\t * 向量乘于某个数\n\t * @param value\n\t */\n\tmultiply(value: number): Vector2 {\n\t\tthis.x *= value;\n\t\tthis.y *= value;\n\t\treturn this;\n\t}\n\n\t/**\n\t * 向量除于某个数\n\t * @param value\n\t */\n\tdivide(value: number): Vector2 {\n\t\tthis.x /= value;\n\t\tthis.y /= value;\n\t\treturn this;\n\t}\n\n\t/**\n\t * 向量角度\n\t * @param value\n\t */\n\tset angle(value: number) {\n\t\tthis.radian = value * Math.PI / 180;\n\t}\n\n\tget angle(): number {\n\t\treturn this.radian * 180 / Math.PI;\n\t}\n\n\t/**\n\t * 向量弧度\n\t * @param value\n\t */\n\tset radian(value: number) {\n\t\tlet len = this.length;\n\t\tthis.setXY(Math.cos(value) * len, Math.sin(value) * len);\n\t}\n\n\tget radian(): number {\n\t\treturn Math.atan2(this.y, this.x);\n\t}\n\n\t/**\n\t * 是否等于某个向量\n\t * @param v2\n\t */\n\tequals(v2): boolean {\n\t\treturn this.x == v2.x && this.y == v2.y;\n\t}\n\n\t/**\n\t * 向量长度\n\t * @param value\n\t */\n\tget length(): number {\n\t\treturn Math.sqrt(this.lengthSQ);\n\t}\n\n\tset length(value: number) {\n\t\tlet a = this.radian;\n\t\tthis.setXY(Math.cos(a) * value, Math.sin(a) * value);\n\t}\n\n\t/**\n\t * 获取向量长度的平方\n\t */\n\tget lengthSQ(): number {\n\t\treturn this.x * this.x + this.y * this.y;\n\t}\n\n\t/**\n\t * 获取向量斜率\n\t */\n\tget slope(): number {\n\t\treturn this.y / this.x;\n\t}\n\n\ttoString(): string {\n\t\treturn \"[Vector2 (x:\" + this.x + \", y:\" + this.y + \")]\";\n\t}\n\n\ttoObj() {\n\t\treturn {x: this.x, y: this.y}\n\t}\n\n\ttoArray() {\n\t\treturn [this.x, this.y];\n\t}\n\n\tstatic corner(v1, v2) {\n\t\treturn Math.acos(v1.dotProd(v2) / (v1.length * v2.length));\n\t}\n}\n","/**\n * Created by rockyl on 2020-03-07.\n */\n\nimport {ComponentManager} from \"./ComponentManager\";\nimport {Application} from \"./Application\";\nimport {IEntity} from \"./IEntity\";\n\n/**\n * 实体适配器接口\n */\nexport interface IEntityAdaptor {\n\t/**\n\t * 组件管理实例\n\t */\n\treadonly entity: IEntity;\n\t/**\n\t * 实体\n\t */\n\treadonly components: ComponentManager;\n\n\t/**\n\t * 获取应用\n\t */\n\treadonly app: Application;\n\n\t/**\n\t * 获取激活状态\n\t */\n\tgetActive(): boolean;\n\n\t/**\n\t * 设置激活状态\n\t * @param active\n\t */\n\tsetActive(active: boolean);\n\n\tinvokeLifecycle(type: string, ...args);\n\n\tinvokeInteractionEvent(type: string, ...args);\n}\n\n/**\n * 实体适配器基类\n */\nexport abstract class EntityAdaptorBase implements IEntityAdaptor {\n\tprotected readonly _components: ComponentManager;\n\tprotected readonly _entity: any;\n\tprivate _app: Application;\n\n\t/**\n\t * @inheritDoc\n\t */\n\tget components(): ComponentManager {\n\t\treturn this._components;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tget entity() {\n\t\treturn this._entity;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tget app() {\n\t\treturn this._app;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tgetActive(): boolean {\n\t\treturn this._entity.$active;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tsetActive(v: boolean) {\n\t\tif (v !== this.getActive()) {\n\t\t\tthis._entity.$active = v;\n\t\t\tthis._components.setActive(v);\n\t\t}\n\t}\n\n\tconstructor(entity: any, app: Application) {\n\t\tthis._entity = entity;\n\t\tthis._app = app;\n\t\tthis._components = new ComponentManager(this, app);\n\n\t\tentity.entityAdaptor = this;\n\n\t\tthis.applyProxy();\n\t}\n\n\t/**\n\t * 应用代理\n\t */\n\tapplyProxy() {\n\t\tlet entity = this._entity;\n\t\tentity.$active = false;\n\n\t\tObject.defineProperty(entity, 'active', {\n\t\t\tget() {\n\t\t\t\treturn this.entityAdaptor.getActive();\n\t\t\t}\n\t\t});\n\t\tentity.instantiate = (docType: any) => {\n\t\t\treturn this._app.instantiate(docType);\n\t\t};\n\t\tentity.setActive = this.setActive.bind(this);\n\t}\n\n\t/**\n\t * 触发生命周期方法\n\t * @param type\n\t * @param args\n\t */\n\tinvokeLifecycle(type: string, ...args) {\n\t\tif (!this.getActive()) {\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (type) {\n\t\t\tcase 'update':\n\t\t\t\tconst [delta] = args;\n\t\t\t\tthis._components.onUpdate(delta);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t/**\n\t * 触发交互事件方法\n\t * @param type\n\t * @param e\n\t */\n\tinvokeInteractionEvent(type: string, e) {\n\t\tif (!this.getActive()) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._components.onInteract(type, e);\n\t}\n}\n","/**\n * Created by rockyl on 2020-03-09.\n */\n\n/**\n * 线性插值\n * @param begin number\n * @param end number\n * @param t number\n * @param allowOutOfBounds\n * @return number\n */\nexport function lerp(begin: number, end: number, t: number, allowOutOfBounds = false) {\n\tif (!allowOutOfBounds) {\n\t\tt = Math.max(0, Math.min(1, t));\n\t}\n\n\tlet sign = end - begin;\n\tsign = sign > 0 ? 1 : (sign < 0 ? -1 : 0);\n\tconst distance = Math.abs(end - begin);\n\n\treturn begin + distance * t * sign;\n}\n\n/**\n * 线性插值\n * @param begin\n * @param end\n * @param t number\n * @param allowOutOfBounds\n * @return number\n */\nexport function lerpVector2(begin: {x: number, y: number}, end: {x: number, y: number}, t: number, allowOutOfBounds = false) {\n\treturn {\n\t\tx: lerp(begin.x, end.x, t, allowOutOfBounds),\n\t\ty: lerp(begin.y, end.y, t, allowOutOfBounds),\n\t};\n}\n\n/**\n * 线性插值\n * @param begin\n * @param end\n * @param t number\n * @param allowOutOfBounds\n * @return number\n */\nexport function lerpVector3(begin: {x: number, y: number, z: number}, end: {x: number, y: number,  z: number}, t: number, allowOutOfBounds = false) {\n\treturn {\n\t\tx: lerp(begin.x, end.x, t, allowOutOfBounds),\n\t\ty: lerp(begin.y, end.y, t, allowOutOfBounds),\n\t\tz: lerp(begin.z, end.z, t, allowOutOfBounds),\n\t};\n}\n\n/**\n * json5字符串转对象\n * @param str\n */\nexport function decodeJson5(str){\n\tlet func = new Function('return ' + str);\n\ttry {\n\t\treturn func();\n\t}catch (e) {\n\t\tconsole.warn(e);\n\t}\n}\n\n/**\n * 属性注入方法\n * @param target 目标对象\n * @param data 被注入对象\n * @param callback 自定义注入方法\n * @param ignoreMethod 是否忽略方法\n * @param ignoreNull 是否忽略Null字段\n *\n * @return 是否有字段注入\n */\nexport function injectProp(target: any, data?: any, callback?: Function, ignoreMethod: boolean = true, ignoreNull: boolean = true): boolean {\n\tif (!target || !data) {\n\t\treturn false;\n\t}\n\n\tlet result = false;\n\tfor (let key in data) {\n\t\tlet value: any = data[key];\n\t\tif ((!ignoreMethod || typeof value != 'function') && (!ignoreNull || value != null)) {\n\t\t\tif (callback) {\n\t\t\t\tcallback(target, key, value);\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\ttarget[key] = value;\n\t\t\t\t} catch (e) {\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tresult = true;\n\t\t}\n\t}\n\treturn result;\n}\n\n/**\n * 属性拷贝\n * @param target\n * @param data\n * @param schema\n */\nexport function copyProp(target, data?, schema?) {\n\tif (schema) {\n\t\tfor (let key in schema) {\n\t\t\tlet valueConfig = schema[key];\n\t\t\tif (Array.isArray(valueConfig)) {\n\t\t\t\ttarget[key] = {};\n\t\t\t\tfor (let field of valueConfig) {\n\t\t\t\t\ttarget[key][field] = data[key][field];\n\t\t\t\t}\n\t\t\t} else if (typeof valueConfig === 'string') {\n\t\t\t\ttarget[valueConfig] = data[valueConfig];\n\t\t\t} else if (typeof valueConfig === 'object') {\n\t\t\t\ttarget[key] = {};\n\t\t\t\tcopyProp(target[key], data[key], valueConfig)\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * 对象转搜索字符串\n * @param obj\n */\nexport function objectStringify(obj) {\n\tif (!obj) {\n\t\treturn '';\n\t}\n\tlet arr = [];\n\tfor (let key in obj) {\n\t\tarr.push(key + '=' + obj[key]);\n\t}\n\treturn arr.join('&');\n}\n","var support = {\n  searchParams: 'URLSearchParams' in self,\n  iterable: 'Symbol' in self && 'iterator' in Symbol,\n  blob:\n    'FileReader' in self &&\n    'Blob' in self &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in self,\n  arrayBuffer: 'ArrayBuffer' in self\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n    var parts = line.split(':')\n    var key = parts.shift().trim()\n    if (key) {\n      var value = parts.join(':').trim()\n      headers.append(key, value)\n    }\n  })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : 'OK'\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = self.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      resolve(new Response(body, options))\n    }\n\n    xhr.onerror = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.ontimeout = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.onabort = function() {\n      reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    xhr.open(request.method, request.url, true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr && support.blob) {\n      xhr.responseType = 'blob'\n    }\n\n    request.headers.forEach(function(value, name) {\n      xhr.setRequestHeader(name, value)\n    })\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!self.fetch) {\n  self.fetch = fetch\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n}\n","/**\n * Created by rockyl on 2020-05-15.\n */\n\nimport 'whatwg-fetch'\nimport {objectStringify} from \"./utils\";\n\n/**\n * 调用接口\n * @param uri\n * @param params\n * @param contentType\n * @param responseType\n * @param credentials\n */\nexport function callApi(uri, {host = '', params = null, method = 'get', credentials = 'include', contentType = 'json',} = {}) {\n\tlet url = host + (uri.startsWith('http') || uri.startsWith('//') ? uri : uri);\n\n\tconst options: any = {\n\t\tmethod,\n\t\theaders: {},\n\t\tcredentials,\n\t};\n\tif (params) {\n\t\tif (method.toLowerCase() === 'post') {\n\t\t\tswitch (contentType) {\n\t\t\t\tcase 'form-data':\n\t\t\t\t\tlet formData = new FormData();\n\t\t\t\t\tfor (let key in params) {\n\t\t\t\t\t\tlet value = params[key];\n\t\t\t\t\t\tif (value instanceof File) {\n\t\t\t\t\t\t\tformData.append(key, value, value.name);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tformData.append(key, value);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\toptions.body = formData;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'form':\n\t\t\t\t\toptions.headers['Content-Type'] = 'application/x-www-form-urlencoded';\n\t\t\t\t\toptions.body = objectStringify(params);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'json':\n\t\t\t\t\toptions.headers['Content-Type'] = 'application/json';\n\t\t\t\t\toptions.body = JSON.stringify(params);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t} else {\n\t\t\turl += (url.indexOf('?') < 0 ? '?' : '');\n\t\t\turl += (url.endsWith('?') ? '' : '&') + objectStringify(params);\n\t\t}\n\t}\n\n\treturn fetch(url, options)\n\t\t.then(\n\t\t\tresponse => {\n\t\t\t\treturn response.text();\n\t\t\t}\n\t\t)\n\t\t.then(\n\t\t\trespText => {\n\t\t\t\ttry {\n\t\t\t\t\tlet jsonObj = JSON.parse(respText);\n\t\t\t\t\tif (jsonObj.code === 0) {\n\t\t\t\t\t\treturn jsonObj.data;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn Promise.reject(new Error('call api failed'));\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn Promise.reject(e);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n}\n"],"names":["tslib_1.__extends","tslib_1.__decorate","fetch"],"mappings":"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"}