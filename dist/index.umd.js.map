{"version":3,"file":"index.umd.js","sources":["../src/protocols.ts","../node_modules/tslib/tslib.es6.js","../src/HashObject.ts","../src/QunityEvent.ts","../src/interpreter.ts","../src/assets-manager.ts","../src/utils.ts","../src/Application.ts","../src/events.ts","../src/Component.ts","../src/ComponentManager.ts","../src/decorators/watch.ts","../src/decorators/editor.ts","../src/vectors.ts","../src/EntityAdaptor.ts","../node_modules/whatwg-fetch/fetch.js","../src/http-request.ts"],"sourcesContent":["/**\n * Created by rockyl on 2020-03-11.\n */\n\nimport {Application} from \"./Application\"\nimport {IEntity} from \"./IEntity\"\n\n//todo script,dynamic\nexport enum Protocols {\n\tASSET = 'asset://',\n\tENTITY = 'entity://',\n}\n\nexport const protocols = {\n\t[Protocols.ASSET]: asset,\n\t[Protocols.ENTITY]: entity,\n}\n\nfunction asset(app: Application, key: string, value: any): any {\n\tlet trulyValue\n\n\tconst uuid = value.replace(Protocols.ASSET, '')\n\ttrulyValue = app.getAsset(uuid)\n\n\treturn trulyValue\n}\n\nfunction entity(app: Application, key: string, value: any, pid?: number): IEntity {\n\tlet trulyValue\n\n\tif(value){\n\t\tconst uuid = transPrefabUUID(value.replace(Protocols.ENTITY, ''), pid)\n\t\ttrulyValue = app.entityMap[uuid]\n\t}else{\n\t\ttrulyValue = null\n\t}\n\n\treturn trulyValue\n}\n\nfunction transPrefabUUID(uuid, pid: number) {\n\treturn pid ? pid + '_' + uuid : uuid\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/**\n * Created by rockyl on 2018/11/5.\n */\n\nlet HASH_CODE_INK: number = 0\n\nfunction getHashCode() {\n\treturn ++HASH_CODE_INK\n}\n\n/**\n * 哈希对象\n */\nexport class HashObject {\n\tprivate _hashCode: number\n\n\tconstructor() {\n\t\tthis._hashCode = getHashCode()\n\t}\n\n\tget hashCode(): number {\n\t\treturn this._hashCode\n\t}\n}\n","/**\n * Created by rockyl on 2020-04-07.\n */\n\nimport {HashObject} from \"./HashObject\"\nimport {Protocols, protocols} from \"./protocols\"\n\n/**\n * 单一事件类\n * 一对多形式的订阅分发机制\n */\nexport class QunityEvent extends HashObject {\n\tprivate _subscribers: any[]\n\n\tconstructor() {\n\t\tsuper()\n\n\t\tthis._subscribers = []\n\t}\n\n\tprivate findListener(callback) {\n\t\tconst {_subscribers} = this\n\n\t\tlet result\n\t\tfor (let i = 0, li = _subscribers.length; i < li; i++) {\n\t\t\tconst subscriber = _subscribers[i]\n\n\t\t\tif (subscriber.callback == callback) {\n\t\t\t\tresult = {\n\t\t\t\t\tsubscriber,\n\t\t\t\t\tindex: i,\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\treturn result\n\t}\n\n\t/**\n\t * 添加侦听\n\t * @param callback\n\t * @param thisObj\n\t * @param priority\n\t * @param params\n\t */\n\taddListener(callback, thisObj?, priority = 0, ...params) {\n\t\tif (!callback) {\n\t\t\treturn\n\t\t}\n\n\t\tconst {_subscribers} = this\n\n\t\tconst listener = this.findListener(callback)\n\t\tif (!listener) {\n\t\t\t_subscribers.push({\n\t\t\t\tcallback,\n\t\t\t\tthisObj,\n\t\t\t\tpriority,\n\t\t\t\tparams,\n\t\t\t})\n\t\t}\n\t}\n\n\t/**\n\t * 添加侦听配置\n\t * @param config\n\t */\n\taddListenerConfig(config: any) {\n\t\tconst {entity, component: componentIndex, method: methodName} = config\n\t\tif (entity && componentIndex >= 0 && methodName) {\n\t\t\tthis._subscribers.push(config)\n\t\t}\n\t}\n\n\t/**\n\t * 添加单次侦听\n\t * @param callback\n\t * @param thisObj\n\t * @param priority\n\t * @param params\n\t */\n\tonce(callback, thisObj?, priority = 0, ...params) {\n\t\tif (!callback) {\n\t\t\treturn\n\t\t}\n\n\t\tconst {_subscribers} = this\n\n\t\tconst listener = this.findListener(callback)\n\t\tif (!listener) {\n\t\t\t_subscribers.push({\n\t\t\t\tcallback,\n\t\t\t\tthisObj,\n\t\t\t\tpriority,\n\t\t\t\tparams,\n\t\t\t\tonce: true,\n\t\t\t})\n\t\t}\n\t}\n\n\t/**\n\t * 移除侦听\n\t * @param callback\n\t */\n\tremoveListener(callback) {\n\t\tif (!callback) {\n\t\t\treturn\n\t\t}\n\n\t\tconst {_subscribers} = this\n\n\t\tif (typeof callback === 'object') {\n\t\t\t_subscribers.splice(_subscribers.indexOf(callback), 1)\n\t\t} else {\n\t\t\tconst listener = this.findListener(callback)\n\t\t\tif (listener) {\n\t\t\t\t_subscribers.splice(listener.index, 1)\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * 是否已经侦听\n\t * @param callback\n\t */\n\thasListener(callback) {\n\t\treturn !!this.findListener(callback)\n\t}\n\n\t/**\n\t * 调用派发\n\t * @param paramsNew\n\t */\n\tinvoke(...paramsNew) {\n\t\tconst {_subscribers} = this\n\n\t\t//按优先级降序\n\t\t_subscribers.sort((a, b) => {\n\t\t\treturn a.priority - b.priority\n\t\t})\n\n\t\tfor (const subscriber of _subscribers) {\n\t\t\tif (subscriber) {\n\t\t\t\tlet callback, thisObj\n\t\t\t\tconst {params, once} = subscriber\n\t\t\t\tconst allParams = params.concat(paramsNew)\n\n\t\t\t\tif (subscriber.entity) {\n\t\t\t\t\tconst {entity, component: componentIndex, method: methodName} = subscriber\n\t\t\t\t\tconst component = entity.getAllComponents()[componentIndex]\n\t\t\t\t\tif (component) {\n\t\t\t\t\t\tcallback = component[methodName]\n\t\t\t\t\t}\n\t\t\t\t\tthisObj = entity\n\t\t\t\t} else {\n\t\t\t\t\tcallback = subscriber.callback\n\t\t\t\t\tthisObj = subscriber.thisObj\n\t\t\t\t}\n\n\t\t\t\tif (callback) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tcallback.apply(thisObj, allParams)\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t//console.log(e)\n\t\t\t\t\t}\n\n\t\t\t\t\tif (once) {\n\t\t\t\t\t\tif (subscriber.entity) {\n\t\t\t\t\t\t\tthis.removeListener(subscriber)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.removeListener(callback)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n","/**\n * Created by rockyl on 2020-03-10.\n */\n\nimport {IEntity} from \"./IEntity\"\nimport {Application} from \"./Application\"\nimport {Protocols, protocols} from \"./protocols\"\nimport {QunityEvent} from \"./QunityEvent\"\n\nlet prefabID: number = 0\n\nconst specialProps = ['enabled', 'active', 'script',]\n\nexport interface IDoc {\n\tname: string,\n\ttype: 'scene' | 'prefab',\n\tfactory: Function,\n\tassets: any[],\n}\n\n/**\n * 实例化节点树\n * @param app\n * @param doc\n */\nexport function instantiate(app: Application, doc: IDoc) {\n\tif (doc) {\n\t\tlet view = doc.factory()\n\t\tlet pid\n\t\tif (doc.type === 'prefab') {\n\t\t\tpid = ++prefabID\n\t\t}\n\t\tsetupComponent(app, view, pid)\n\t\tenableComponent(app, view, pid)\n\n\t\treturn view\n\t}\n}\n\n/**\n * 装配实体树\n * @param app\n * @param config\n * @param pid\n */\nfunction setupEntityTree(app: Application, config, pid?: number) {\n\tlet entity: IEntity = null\n\tif (config) {\n\t\tlet {$type = 'Node', name, uuid, children, active} = config\n\t\tif ($type === 'prefab') {\n\t\t\tlet {link} = config\n\t\t\tlet prefabConfig = app.getAsset(link.replace('asset://', ''))\n\t\t\t//todo make callback\n\t\t\t//entity = instantiate(app, prefabConfig)\n\t\t} else {\n\t\t\tentity = app.createEntity($type)\n\t\t}\n\t\tif (pid !== undefined && uuid !== undefined) {\n\t\t\tuuid = pid + '_' + uuid\n\t\t}\n\t\tif (name) {\n\t\t\tentity['name'] = name\n\t\t}\n\t\tentity['uuid'] = uuid\n\n\t\tif (active !== false) {\n\t\t\tentity.setActive(true)\n\t\t}\n\n\t\tinjectProps(app, entity, config)\n\n\t\tif (uuid !== undefined) {\n\t\t\tapp.entityMap[uuid] = entity\n\t\t}\n\n\t\tif (children) {\n\t\t\tfor (let child of children) {\n\t\t\t\tconst childEntity = setupEntityTree(app, child, pid)\n\t\t\t\tapp.addDisplayNode(childEntity, entity)\n\t\t\t}\n\t\t}\n\t}\n\n\treturn entity\n}\n\n/**\n * 装配组件\n * @param app\n * @param entity\n * @param pid\n */\nfunction setupComponent(app: Application, entity, pid?: number) {\n\tif (!entity.children) {\n\t\treturn\n\t}\n\tfor (let i = 0, li = entity.children.length; i < li; i++) {\n\t\tconst child: IEntity = entity.children[i]\n\t\tlet comps = child['$componentConfigs']\n\t\tif (comps) {\n\t\t\tlet compManager = child.entityAdaptor.components\n\t\t\tfor (let comp of comps) {\n\t\t\t\tlet component = compManager.addComponent(comp.script, false)\n\t\t\t\tcomponent.enabled = comp.enabled !== false\n\t\t\t\tinjectProps(app, component, comp, pid)\n\t\t\t\tcompManager.$onAddComponent(component, true)\n\t\t\t}\n\t\t}\n\t\tsetupComponent(app, child, pid)\n\t}\n}\n\n/**\n * 使能组件\n * @param app\n * @param entity\n * @param pid\n */\nfunction enableComponent(app: Application, entity, pid?: number) {\n\tfor (let i = 0, li = entity.children.length; i < li; i++) {\n\t\tconst child: IEntity = entity.children[i]\n\n\t\tlet compManager = child.entityAdaptor.components\n\t\tcompManager.setActive(true)\n\n\t\tenableComponent(app, child, pid)\n\t}\n}\n\n/**\n * 注入属性\n * @param app\n * @param target\n * @param props\n * @param pid\n */\nfunction injectProps(app: Application, target: any, props: any, pid?: number) {\n\tif (props && target) {\n\t\tfor (let field in props) {\n\t\t\tif (specialProps.indexOf(field) >= 0) {\n\t\t\t\tcontinue\n\t\t\t}\n\n\t\t\tlet value = props[field]\n\t\t\tif (typeof value === 'object') {//复杂数据\n\t\t\t\ttransComplexProps(app, target, field, value)\n\t\t\t} else {\n\t\t\t\ttransBaseProps(app, target, field, value, pid)\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction injectEvent(app: Application, listeners, pid?) {\n\tlet event = new QunityEvent()\n\tfor (const listener of listeners) {\n\t\tlistener.entity = protocols[Protocols.ENTITY](app, '', listener.entity, pid)\n\t\tevent.addListenerConfig(listener)\n\t}\n\treturn event\n}\n\nfunction transComplexProps(app: Application, target: any, field: string, value: any, pid?: number) {\n\tlet trulyValue = value\n\tlet override = false\n\tswitch (value.type) {\n\t\tcase 'event':\n\t\t\ttrulyValue = injectEvent(app, value.payload, pid)\n\t\t\tbreak\n\t\tcase 'raw':\n\t\t\toverride = true\n\t\t\ttrulyValue = value.payload\n\t\t\tbreak\n\t\tdefault:\n\t\t\tif (Array.isArray(value) && !target[field]) {\n\t\t\t\ttarget[field] = []\n\t\t\t}\n\t\t\tinjectProps(app, target[field], value, pid)\n\t\t\tbreak\n\t}\n\n\tif (override) {\n\t\ttarget[field] = trulyValue\n\t}\n}\n\n/**\n * 转换基础类型的属性\n * @param app\n * @param target\n * @param field\n * @param value\n * @param pid\n */\nfunction transBaseProps(app: Application, target: any, field: string, value: any, pid?: number) {\n\tlet trulyValue = value\n\tif (typeof value === 'string') {\n\t\tlet hit\n\t\tlet protocolGroups = [protocols, app.adaptorOptions.protocols]\n\t\tfor (let protocols of protocolGroups) {\n\t\t\tfor (let protocol in protocols) {\n\t\t\t\tif (value.indexOf(protocol) === 0) {\n\t\t\t\t\tlet protocolFunc = protocols[protocol]\n\t\t\t\t\ttrulyValue = protocolFunc(app, field, value, pid)\n\t\t\t\t\thit = true\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (hit) {\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t}\n\n\ttarget[field] = trulyValue\n}\n\n//parse scene//\nexport function parseViewDoc(app: Application, docSource): IDoc {\n\tfunction p(props) {\n\t\tinjectProps(app, this, props)\n\n\t\tif (props.active !== false && this.setActive) {\n\t\t\tthis.setActive(true)\n\t\t}\n\n\t\treturn this\n\t}\n\n\tfunction kv(props) {\n\t\tfor (let key in props) {\n\t\t\tthis[key] = props[key]\n\t\t}\n\t\treturn this\n\t}\n\n\tfunction c(children) {\n\t\tfor (let child of children) {\n\t\t\tapp.addDisplayNode(child, this)\n\t\t}\n\t\treturn this\n\t}\n\n\tfunction s(components) {\n\t\tObject.defineProperty(this, '$componentConfigs', {\n\t\t\tvalue: components,\n\t\t\twritable: false,\n\t\t\tenumerable: false,\n\t\t})\n\t\treturn this\n\t}\n\n\tconst implementNodes = {}\n\tconst requireContext = {\n\t\t'qunity': {\n\t\t\tDoc: function (props) {\n\t\t\t\tlet obj = {\n\t\t\t\t\tkv,\n\t\t\t\t\tp,\n\t\t\t\t}\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tdelete obj['kv']\n\t\t\t\t\tdelete obj['p']\n\t\t\t\t})\n\t\t\t\treturn obj.p(props)\n\t\t\t}\n\t\t},\n\t\t[app.namespace]: implementNodes\n\t}\n\n\tfunction requireMethod(id) {\n\t\treturn requireContext[id]\n\t}\n\n\tconst entityNames = Object.keys(app.entityDefs)\n\tfor (let entityName of entityNames) {\n\t\timplementNodes[entityName] = function (props) {\n\t\t\tlet entity = app.createEntity(entityName)\n\t\t\tif (props.uuid !== undefined) {\n\t\t\t\tapp.entityMap[props.uuid] = entity\n\t\t\t}\n\n\t\t\tentity['kv'] = kv\n\t\t\tentity['p'] = p\n\t\t\tentity['c'] = c\n\t\t\tentity['s'] = s\n\t\t\tsetTimeout(function () {\n\t\t\t\tdelete entity['kv']\n\t\t\t\tdelete entity['p']\n\t\t\t\tdelete entity['c']\n\t\t\t\tdelete entity['s']\n\t\t\t})\n\t\t\treturn p.call(entity, props)\n\t\t}\n\t}\n\tlet func = new Function('require', 'exports', docSource)\n\tlet exports: any = {}\n\tfunc(requireMethod, exports)\n\treturn exports.doc\n}\n","/**\n * Created by rockyl on 2020-03-20.\n */\nimport {Application} from \"./Application\"\n\nexport class AssetsManager {\n\tprivate _app: Application\n\tprivate _assetCache = {}\n\n\tconstructor(app: Application) {\n\t\tthis._app = app\n\t}\n\n\taddAsset(asset, opt) {\n\t\tthis._assetCache[opt.uuid || opt.name || opt.url] = asset\n\t}\n\n\tgetAsset(uuid: string) {\n\t\treturn this._assetCache[uuid]\n\t}\n\n\tclean() {\n\t\tthis._assetCache = {}\n\t}\n}\n","/**\n * Created by rockyl on 2020-03-09.\n */\n\n/**\n * 使方法有记忆能力\n * @param fn\n */\nexport function memorize(fn: Function) {\n\tconst cache = {}\n\treturn function (...args) {\n\t\tconst _args = JSON.stringify(args)\n\t\treturn cache[_args] || (cache[_args] = fn.apply(fn, args))\n\t}\n}\n\n/**\n * 线性插值\n * @param begin number\n * @param end number\n * @param t number\n * @param allowOutOfBounds\n * @return number\n */\nexport function lerp(begin: number, end: number, t: number, allowOutOfBounds = false) {\n\tif (!allowOutOfBounds) {\n\t\tt = Math.max(0, Math.min(1, t))\n\t}\n\n\tlet sign = end - begin\n\tsign = sign > 0 ? 1 : (sign < 0 ? -1 : 0)\n\tconst distance = Math.abs(end - begin)\n\n\treturn begin + distance * t * sign\n}\n\n/**\n * 线性插值\n * @param begin\n * @param end\n * @param t number\n * @param allowOutOfBounds\n * @return number\n */\nexport function lerpVector2(begin: { x: number, y: number }, end: { x: number, y: number }, t: number, allowOutOfBounds = false) {\n\treturn {\n\t\tx: lerp(begin.x, end.x, t, allowOutOfBounds),\n\t\ty: lerp(begin.y, end.y, t, allowOutOfBounds),\n\t}\n}\n\n/**\n * 线性插值\n * @param begin\n * @param end\n * @param t number\n * @param allowOutOfBounds\n * @return number\n */\nexport function lerpVector3(begin: { x: number, y: number, z: number }, end: { x: number, y: number, z: number }, t: number, allowOutOfBounds = false) {\n\treturn {\n\t\tx: lerp(begin.x, end.x, t, allowOutOfBounds),\n\t\ty: lerp(begin.y, end.y, t, allowOutOfBounds),\n\t\tz: lerp(begin.z, end.z, t, allowOutOfBounds),\n\t}\n}\n\n/**\n * json5字符串转对象\n * @param str\n */\nexport function decodeJson5(str) {\n\tlet func = new Function('return ' + str)\n\ttry {\n\t\treturn func()\n\t} catch (e) {\n\t\tconsole.warn(e)\n\t}\n}\n\nexport function evalExp(exp, scope) {\n\ttry {\n\t\tlet func = Function(\"scope\", \"with(scope){return \" + exp + \"}\") as (scope: any) => any\n\t\treturn func(scope)\n\t} catch (e) {\n\t\tconsole.warn('eval exp error:', e)\n\t}\n}\n\n/**\n * 属性注入方法\n * @param target 目标对象\n * @param data 被注入对象\n * @param callback 自定义注入方法\n * @param ignoreMethod 是否忽略方法\n * @param ignoreNull 是否忽略Null字段\n *\n * @return 是否有字段注入\n */\nexport function injectProp(target: any, data?: any, callback?: Function, ignoreMethod: boolean = true, ignoreNull: boolean = true): boolean {\n\tif (!target || !data) {\n\t\treturn false\n\t}\n\n\tlet result = false\n\tfor (let key in data) {\n\t\tlet value: any = data[key]\n\t\tif ((!ignoreMethod || typeof value != 'function') && (!ignoreNull || value != null)) {\n\t\t\tif (callback) {\n\t\t\t\tcallback(target, key, value)\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\ttarget[key] = value\n\t\t\t\t} catch (e) {\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tresult = true\n\t\t}\n\t}\n\treturn result\n}\n\n/**\n * 属性拷贝\n * @param target\n * @param data\n * @param schema\n */\nexport function copyProp(target, data?, schema?) {\n\tif (schema) {\n\t\tfor (let key in schema) {\n\t\t\tlet valueConfig = schema[key]\n\t\t\tif (Array.isArray(valueConfig)) {\n\t\t\t\ttarget[key] = {}\n\t\t\t\tfor (let field of valueConfig) {\n\t\t\t\t\ttarget[key][field] = data[key][field]\n\t\t\t\t}\n\t\t\t} else if (typeof valueConfig === 'string') {\n\t\t\t\ttarget[valueConfig] = data[valueConfig]\n\t\t\t} else if (typeof valueConfig === 'object') {\n\t\t\t\ttarget[key] = {}\n\t\t\t\tcopyProp(target[key], data[key], valueConfig)\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * 对象转搜索字符串\n * @param obj\n */\nexport function objectStringify(obj) {\n\tif (!obj) {\n\t\treturn ''\n\t}\n\tlet arr = []\n\tfor (let key in obj) {\n\t\tarr.push(key + '=' + obj[key])\n\t}\n\treturn arr.join('&')\n}\n\nconst WATCH_PROP_EVENT_PREFIX = 'prop-watch-'\n\n/**\n * 生成属性事件名\n * @param prop\n */\nexport const makePropEventName = memorize(function (prop) {\n\treturn WATCH_PROP_EVENT_PREFIX + (Array.isArray(prop) ? prop.concat().sort().join('|') : prop)\n})\n\n/**\n * 判断属性在事件名中\n * @param prop\n * @param events\n */\nexport const propInEventName = memorize(function (prop, events) {\n\treturn events.replace(WATCH_PROP_EVENT_PREFIX, '').split('|').indexOf(prop) >= 0\n})\n","/**\n * Created by rockyl on 2020-03-08.\n */\n\nimport {IEntityAdaptor} from \"./EntityAdaptor\"\nimport {IEntity} from \"./IEntity\"\nimport {IDoc, instantiate, parseViewDoc} from \"./interpreter\"\nimport {AssetsManager} from \"./assets-manager\"\nimport {evalExp} from \"./utils\"\n\nexport interface AdaptorOptions {\n\tstage: any\n\tEntityAdaptor: any\n\taddDisplayFunc: (node: IEntity, parent: IEntity) => void\n\ttraverseFunc: (node: IEntity, callback: (node) => boolean | void) => void\n\tbubblingFunc: (node: IEntity, callback: (node) => boolean | void) => void\n\tloadAssetFunc: (config: any, onComplete: (res, opt) => void) => void\n\tstageSizeFunc: () => { width: number, height: number }\n\tprotocols?: {\n\t\t[key: string]: (app: Application, key: string, value: any, pid?: number) => any,\n\t}\n\tcontext?: any\n}\n\n/**\n * 应用\n */\nexport class Application {\n\tprivate _namespace: string\n\tprivate _launchOptions: any\n\tprivate _adaptorOptions: AdaptorOptions\n\tprivate _componentDefs: any = {}\n\tprivate _entityDefs: any = {}\n\tprivate _manifest: any\n\tprivate _docCaches: any = {}\n\tprivate _assetsManager: AssetsManager\n\n\tentityMap = {}\n\n\t/**\n\t * 命名空间\n\t */\n\tget namespace(): string {\n\t\treturn this._namespace\n\t}\n\n\t/**\n\t * 启动配置\n\t */\n\tget launchOptions(): any {\n\t\treturn this._launchOptions\n\t}\n\n\t/**\n\t * 适配配置\n\t */\n\tget adaptorOptions(): AdaptorOptions {\n\t\treturn this._adaptorOptions\n\t}\n\n\t/**\n\t * 获取上下文\n\t */\n\tget context() {\n\t\treturn this._adaptorOptions.context\n\t}\n\n\t/**\n\t * 舞台实例\n\t */\n\tget stage() {\n\t\treturn this._adaptorOptions.stage\n\t}\n\n\t/**\n\t * 舞台尺寸\n\t */\n\tget stageSize() {\n\t\treturn this._adaptorOptions.stageSizeFunc()\n\t}\n\n\t/**\n\t *\n\t * @param namespace 命名空间\n\t */\n\tconstructor(namespace: string) {\n\t\tthis._namespace = namespace\n\t\tthis._assetsManager = new AssetsManager(this)\n\t}\n\n\t/**\n\t * 启动\n\t * @param options\n\t * @param onProgress\n\t * @param onComplete\n\t */\n\tlaunch(options?: any, onProgress?, onComplete?) {\n\t\tthis._launchOptions = options\n\t\tthis.loadAsset({url: 'manifest.json'},\n\t\t\t(asset) => {\n\t\t\t\tlet manifest = this._manifest = asset\n\t\t\t\tlet entryScene = manifest.scene.entryScene\n\t\t\t\tthis.launchScene(entryScene, {}, onProgress, onComplete)\n\t\t\t})\n\t}\n\n\t/**\n\t * 预加载场景\n\t * @param name\n\t * @param onProgress\n\t * @param onComplete\n\t */\n\tpreloadScene(name: string, onProgress?, onComplete?) {\n\t\tthis.loadScene(name, onProgress, onComplete)\n\t}\n\n\t/**\n\t * 加载场景\n\t * @param name\n\t * @param onProgress\n\t * @param onComplete\n\t */\n\tprivate loadScene(name: string, onProgress?, onComplete?) {\n\t\tlet scenes = this._manifest.scene.scenes\n\n\t\tif (this._docCaches[name]) {\n\t\t\tlet scene = this._instantiateScene(this._docCaches[name])\n\t\t\tonComplete(scene)\n\t\t\treturn\n\t\t}\n\n\t\tlet sceneUrl = scenes[name]\n\t\tthis.loadAsset({url: sceneUrl, options: {xhrType: 'text'}},\n\t\t\t(asset) => {\n\t\t\t\tlet doc = parseViewDoc(this, asset)\n\t\t\t\tthis._docCaches[name] = doc\n\n\t\t\t\tthis.loadAssets(doc.assets, onProgress, () => {\n\t\t\t\t\tlet scene = this._instantiateScene(doc)\n\t\t\t\t\tonComplete(scene)\n\t\t\t\t})\n\t\t\t})\n\t}\n\n\t_instantiateScene(doc: IDoc) {\n\t\treturn this.instantiate(doc)\n\t}\n\n\t/**\n\t * 启动场景\n\t * @param name\n\t * @param options\n\t * @param onProgress\n\t * @param onComplete\n\t */\n\tlaunchScene(name: string, options?: any, onProgress?, onComplete?) {\n\t\tthis.loadScene(name, onProgress, (scene) => {\n\t\t\tthis.addDisplayNode(scene, this.stage)\n\n\t\t\tonComplete && onComplete()\n\t\t})\n\t}\n\n\t/**\n\t * 装配适配器\n\t * @param options\n\t * @return mainLoop 主循环方法\n\t */\n\tsetupAdaptor(options: AdaptorOptions): (delta: number) => void {\n\t\tthis._adaptorOptions = options\n\t\treturn this._mainLoop\n\t}\n\n\t/**\n\t * 实例化场景或者预制体\n\t * @param doc\n\t */\n\tinstantiate(doc: IDoc) {\n\t\treturn instantiate(this, doc)\n\t}\n\n\t/**\n\t * 注册组件类\n\t * @param id\n\t * @param def\n\t */\n\tregisterComponentDef(id, def) {\n\t\tif (def) {\n\t\t\tif (typeof def === 'function') {\n\t\t\t\tdef['__class__'] = id\n\t\t\t}\n\t\t\tthis._componentDefs[id] = def\n\t\t}\n\t}\n\n\t/**\n\t * 批量注册组件类\n\t * @param defs {key: id, def}\n\t */\n\tregisterComponentDefs(defs) {\n\t\tif (defs) {\n\t\t\tfor (let id in defs) {\n\t\t\t\tthis.registerComponentDef(id, defs[id])\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * 注册实体类\n\t * @param type\n\t * @param def\n\t */\n\tregisterEntityDef(type, def) {\n\t\tif (def) {\n\t\t\tthis._entityDefs[type] = def\n\t\t}\n\t}\n\n\t/**\n\t * 批量注册实体类\n\t * @param defs\n\t */\n\tregisterEntityDefs(defs) {\n\t\tif (defs) {\n\t\t\tfor (let type in defs) {\n\t\t\t\tthis.registerEntityDef(type, defs[type].def)\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * 创建实体实例\n\t * @param type\n\t */\n\tcreateEntity(type: string): IEntity {\n\t\tlet clazz = this._entityDefs[type]\n\n\t\tif (clazz) {\n\t\t\tlet entity = new clazz()\n\t\t\tlet entityAdaptor = new this._adaptorOptions.EntityAdaptor(entity, this)\n\n\t\t\treturn entity\n\t\t} else {\n\t\t\tthrow new Error(`type [${type}] not exists.`)\n\t\t}\n\t}\n\n\t/**\n\t * 获取全部已注册的实体定义\n\t */\n\tget entityDefs() {\n\t\treturn this._entityDefs\n\t}\n\n\t/**\n\t * 添加显示节点\n\t * @param node\n\t * @param parent\n\t */\n\taddDisplayNode(node: IEntity, parent: IEntity) {\n\t\tthis._adaptorOptions.addDisplayFunc(node, parent)\n\t}\n\n\t/**\n\t * 遍历显示节点\n\t * @param node\n\t * @param callback\n\t */\n\ttraverseDisplayNode(node: IEntity, callback: (node) => boolean | void) {\n\t\tthis._adaptorOptions.traverseFunc(node, callback)\n\t}\n\n\t/**\n\t * 冒泡显示节点\n\t * @param node\n\t * @param callback\n\t */\n\tbubblingDisplayNode(node: IEntity, callback: (node) => boolean | void) {\n\t\tthis._adaptorOptions.bubblingFunc(node, callback)\n\t}\n\n\t/**\n\t * 加载单项资源\n\t * @param config\n\t * @param onComplete\n\t */\n\tloadAsset(config, onComplete?) {\n\t\tthis._adaptorOptions.loadAssetFunc(config, (item, opt) => {\n\t\t\tthis._assetsManager.addAsset(item, opt)\n\t\t\tonComplete && onComplete(item)\n\t\t})\n\t}\n\n\t/**\n\t * 加载资源\n\t * @param configs\n\t * @param onProgress\n\t * @param onComplete\n\t */\n\tloadAssets(configs, onProgress?, onComplete?) {\n\t\tlet total = configs.length\n\t\tlet loaded = 0\n\t\tfor (let config of configs) {\n\t\t\tthis.loadAsset(config, onItemComplete)\n\t\t}\n\n\t\tfunction onItemComplete(item) {\n\t\t\tloaded++\n\t\t\tonProgress && onProgress(loaded, total, item)\n\t\t\tif (loaded >= total) {\n\t\t\t\tonComplete && onComplete()\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * 获取资源\n\t * @param uuid\n\t */\n\tgetAsset(uuid: string): any {\n\t\treturn this._assetsManager.getAsset(uuid)\n\t}\n\n\t/**\n\t * 主循环方法，需要在适配器的实现中调用\n\t * @param delta\n\t * @private\n\t */\n\tprivate _mainLoop = (delta: number) => {\n\t\tthis._adaptorOptions.traverseFunc(this._adaptorOptions.stage, this._onHit.bind(this, delta))\n\t}\n\n\t/**\n\t * 遍历整个渲染树\n\t * @param delta\n\t * @param node\n\t * @private\n\t */\n\tprivate _onHit(delta, node) {\n\t\tif (node['entityAdaptor']) {\n\t\t\tlet entityAdaptor: IEntityAdaptor = node['entityAdaptor']\n\t\t\tentityAdaptor.invokeLifecycle('update', delta)\n\t\t}\n\t}\n\n\t/**\n\t * 实例化组件\n\t * @param id\n\t */\n\t$getComponentDef(id: any): any {\n\t\tlet def\n\t\tlet idType = typeof id\n\t\tswitch (idType) {\n\t\t\tcase 'string':\n\t\t\t\tif (id.indexOf('/') == 0 || id.indexOf('uuid://') == 0) {\n\t\t\t\t\tdef = this._componentDefs[id]\n\t\t\t\t} else {\n\t\t\t\t\tdef = this._resolveExternalComponent(id)\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\tcase 'function':\n\t\t\t\tdef = id\n\t\t\t\tbreak\n\t\t}\n\n\t\tif (!def) {\n\t\t\tconsole.warn(`component [${id}] not exists.`)\n\t\t\treturn\n\t\t}\n\t\tconst className = def['__class__']\n\t\tif (!className) {\n\t\t\tconsole.warn(`component [${id}] is not registered.`)\n\t\t\treturn\n\t\t}\n\n\t\treturn def\n\t}\n\n\t_resolveExternalComponent(id) {\n\t\tlet i = id.indexOf(':')\n\t\tlet pkgName = id.substr(0, i)\n\t\tlet pkg = this._componentDefs[pkgName]\n\t\tif (!pkg) {\n\t\t\treturn\n\t\t}\n\t\tlet exp = id.substr(i + 1)\n\t\tlet def = evalExp(exp, pkg)\n\t\tif (def) {\n\t\t\tdef['__class__'] = id\n\t\t}\n\t\treturn def\n\t}\n}\n","/**\n * Created by rockyl on 2021/2/15.\n */\n\ninterface Options {\n\tprefix?: string\n}\n\n/**\n * 安装事件功能\n * @param target\n * @param options\n */\nexport function setupEvents(target, options: Options = {}) {\n\tconst {prefix} = options\n\n\tconst events = target.$events = {}\n\ttarget[prefix + 'on'] = function (event, callback) {\n\t\tlet e = events[event]\n\t\tif (!e) {\n\t\t\te = events[event] = []\n\t\t}\n\t\te.push(callback)\n\t}\n\ttarget[prefix + 'off'] = function (event, callback) {\n\t\tlet e = events[event]\n\t\tif (e) {\n\t\t\tlet i = e.indexOf(callback)\n\t\t\te.splice(i, 1)\n\t\t}\n\t}\n\ttarget[prefix + 'emit'] = function (event, ...args) {\n\t\tlet e = events[event]\n\t\tif (e) {\n\t\t\tfor (let cb of e) {\n\t\t\t\tcb.apply(target, args)\n\t\t\t}\n\t\t}\n\t}\n}\n","/**\n * Created by rockyl on 2019-07-28.\n */\n\nimport {HashObject} from \"./HashObject\"\nimport {IEntityAdaptor} from \"./EntityAdaptor\"\nimport {IEntity} from \"./IEntity\"\nimport {setupEvents} from \"./events\"\nimport {makePropEventName, propInEventName} from \"./utils\"\n\nexport interface IComponent {\n\treadonly entityAdaptor: IEntityAdaptor\n\treadonly entity: any\n\tenabled: boolean\n\n\tbroadcast(methodName: string, ...args)\n\n\tbubbling(methodName: string, ...args)\n\n\tcreate()\n\n\tawake()\n\n\tstart()\n\n\tonEnable()\n\n\tonDisable()\n\n\tupdate(delta: number)\n\n\tonDestroy()\n\n\tonClick(e)\n\n\tonMouseDown(e)\n\n\tonMouseMove(e)\n\n\tonMouseUp(e)\n\n\tonMouseUpOutside(e)\n\n\t/**\n\t * 添加组件\n\t * @param componentId\n\t * @param enabled\n\t */\n\taddComponent(componentId: string | Function, enabled?: boolean): IComponent\n\n\t/**\n\t * 移除组件\n\t * @param componentId\n\t * @param index\n\t */\n\tremoveComponent(componentId: string | Function, index?: number): IComponent[]\n\n\t/**\n\t * 移除所有组件\n\t */\n\tremoveAllComponents()\n\n\t/**\n\t * 获取组件\n\t * @param componentId\n\t */\n\tgetComponent(componentId: string | Function): IComponent\n\n\t/**\n\t * 获取组件组\n\t * @param componentId\n\t */\n\tgetComponents(componentId: string | Function): IComponent[]\n\n\t/**\n\t * 获取全部组件\n\t */\n\tgetAllComponents(): IComponent[]\n\n\t/**\n\t * 当监听的属性变化时触发\n\t * @param value\n\t * @param key\n\t * @param oldValue\n\t */\n\tonPropsChanged(value, key: string, oldValue)\n\n\t/**\n\t * 监听单个属性变化\n\t * @param prop\n\t * @param callback\n\t */\n\twatch(prop: string, callback: (value, key: string, oldValue) => void)\n\n\t/**\n\t * 撤销监听单个属性变化\n\t * @param prop\n\t * @param callback\n\t */\n\tunwatch(prop: string, callback: Function)\n}\n\n/**\n * 组件类\n */\nexport class Component extends HashObject implements IComponent {\n\tprivate _entityAdaptor: IEntityAdaptor\n\tprivate _enabled: boolean = false\n\tprivate _started: boolean = false\n\tprivate _changedProps: any = {}\n\n\tget entityAdaptor(): IEntityAdaptor {\n\t\treturn this._entityAdaptor\n\t}\n\n\tget entity(): IEntity {\n\t\treturn this._entityAdaptor.entity\n\t}\n\n\tconstructor() {\n\t\tsuper()\n\n\t\tsetupEvents(this, {prefix: '$'})\n\n\t\tthis.create()\n\t}\n\n\t/**\n\t * 是否有效\n\t */\n\tget enabled(): boolean {\n\t\treturn this._enabled\n\t}\n\n\tset enabled(value: boolean) {\n\t\tif (this._enabled != value) {\n\t\t\tthis._enabled = value\n\n\t\t\tif (this._entityAdaptor && this._entityAdaptor.getActive()) {\n\t\t\t\tif (value) {\n\t\t\t\t\tthis._started = false\n\t\t\t\t\tthis.onEnable()\n\t\t\t\t} else {\n\t\t\t\t\tthis.onDisable()\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t */\n\t$awake(entityAdaptor: IEntityAdaptor) {\n\t\tthis._entityAdaptor = entityAdaptor\n\t\tthis.awake()\n\t}\n\n\t/**\n\t * @private\n\t */\n\t$destroy() {\n\t\tthis._entityAdaptor = null\n\t\tthis.onDestroy()\n\t}\n\n\t/**\n\t * 当组件被创建时\n\t */\n\tcreate() {\n\n\t}\n\n\t/**\n\t * 当组件被唤醒时\n\t */\n\tawake() {\n\n\t}\n\n\t/**\n\t * 当组件开始\n\t */\n\tstart() {\n\n\t}\n\n\t/**\n\t * 当生效时\n\t * 仅当实体唤醒状态\n\t */\n\tonEnable() {\n\n\t}\n\n\t/**\n\t * 当失效时\n\t * 仅当实体唤醒状态\n\t */\n\tonDisable() {\n\n\t}\n\n\t/**\n\t * 时钟更新\n\t * @param delta\n\t */\n\tupdate(delta: number) {\n\n\t}\n\n\t/**\n\t * 当被销毁时\n\t */\n\tonDestroy() {\n\n\t}\n\n\t/**\n\t * @private\n\t * @param delta\n\t */\n\t$onUpdate(delta: number) {\n\t\tif (this._enabled) {\n\t\t\tif (!this._started) {\n\t\t\t\tthis._started = true\n\t\t\t\tthis.start()\n\t\t\t\tthis.onPropsChanged()\n\t\t\t}\n\t\t\tthis._emitPropEvents()\n\t\t\tthis.update(delta)\n\t\t}\n\t}\n\n\t/**\n\t * 当点击时\n\t * @param e\n\t */\n\tonClick(e) {\n\t}\n\n\t/**\n\t * 当鼠标按下\n\t * @param e\n\t */\n\tonMouseDown(e) {\n\t}\n\n\t/**\n\t * 当鼠标移动\n\t * @param e\n\t */\n\tonMouseMove(e) {\n\t}\n\n\t/**\n\t * 当鼠标松开\n\t * @param e\n\t */\n\tonMouseUp(e) {\n\t}\n\n\t/**\n\t * 当鼠标在实体外侧松开\n\t * @param e\n\t */\n\tonMouseUpOutside(e) {\n\t}\n\n\t/**\n\t * 向下广播执行\n\t * @param methodName\n\t * @param args\n\t */\n\tbroadcast(methodName: string, ...args) {\n\t\tthis._entityAdaptor.app.traverseDisplayNode(this.entity, (node: IEntity) => {\n\t\t\tnode.invokeOnComponents && node.invokeOnComponents(methodName, args)\n\t\t})\n\t}\n\n\t/**\n\t * 向上冒泡执行\n\t * @param methodName\n\t * @param args\n\t */\n\tbubbling(methodName: string, ...args) {\n\t\tthis._entityAdaptor.app.bubblingDisplayNode(this.entity, (node: IEntity) => {\n\t\t\tnode.invokeOnComponents && node.invokeOnComponents(methodName, args)\n\t\t})\n\t}\n\n\taddComponent(componentId: string | Function, enabled?: boolean): IComponent {\n\t\treturn this.entity.addComponent(componentId, enabled)\n\t}\n\n\tgetAllComponents(): IComponent[] {\n\t\treturn this.entity.getAllComponents()\n\t}\n\n\tgetComponent(componentId: string | Function): IComponent {\n\t\treturn this.entity.getComponent(componentId)\n\t}\n\n\tgetComponents(componentId: string | Function): IComponent[] {\n\t\treturn this.entity.getComponents(componentId)\n\t}\n\n\tremoveAllComponents() {\n\t\treturn this.entity.removeAllComponents()\n\t}\n\n\tremoveComponent(componentId: string | Function, index?: number): IComponent[] {\n\t\treturn this.entity.removeComponent(componentId, index)\n\t}\n\n\tprivate $onModify(value, key, oldValue) {\n\t\tthis._propChanged(value, key, oldValue)\n\t\tif (this._started) {\n\t\t\tthis.onPropsChanged(value, key, oldValue)\n\t\t}\n\t}\n\n\tonPropsChanged(value?, key?, oldValue?) {\n\t}\n\n\t$on(event: string, callback: Function) {\n\t}\n\n\t$off(event: string, callback: Function) {\n\t}\n\n\t$emit(event: string, ...args) {\n\t}\n\n\t_propChanged(value, key, oldValue) {\n\t\tthis._changedProps[key] = [value, key, oldValue]\n\t}\n\n\t_emitPropEvents() {\n\t\tlet changedProps = this._changedProps\n\t\tlet events = Object.keys(this['$events'])\n\t\tlet hintEvents = {}\n\t\tfor (let prop in changedProps) {\n\t\t\tdelete changedProps[prop]\n\n\t\t\tfor (let event of events) {\n\t\t\t\tif (propInEventName(prop, event)) {\n\t\t\t\t\tif (!hintEvents[event]) {\n\t\t\t\t\t\thintEvents[event] = []\n\t\t\t\t\t}\n\t\t\t\t\thintEvents[event].push(prop)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (let event in hintEvents) {\n\t\t\tthis.$emit.apply(this, [event, hintEvents[event]])\n\t\t}\n\t}\n\n\twatch(prop: string | string[], callback: Function) {\n\t\tif (!prop || (Array.isArray(prop) && prop.length == 0)) {\n\t\t\treturn false\n\t\t}\n\t\tthis.$on(makePropEventName(prop), callback)\n\t\treturn true\n\t}\n\n\tunwatch(prop: string | string[], callback: Function) {\n\t\tif (!prop || (Array.isArray(prop) && prop.length == 0)) {\n\t\t\treturn false\n\t\t}\n\t\tthis.$off(makePropEventName(prop), callback)\n\t\treturn true\n\t}\n}\n","/**\n * Created by rockyl on 2019-07-29.\n */\n\nimport {Component} from \"./Component\"\nimport {IEntityAdaptor} from \"./EntityAdaptor\"\nimport {Application} from \"./Application\"\n\n/**\n * 组件管理类\n */\nexport class ComponentManager {\n\tprivate _app: Application\n\tprivate _entityAdaptor: IEntityAdaptor\n\tprivate _components: Component[] = []\n\tprivate _componentsNameMapping: any\n\tprivate _componentsDefMapping: any\n\n\tconstructor(entityAdaptor: IEntityAdaptor, app: Application) {\n\t\tthis._app = app\n\t\tthis._entityAdaptor = entityAdaptor\n\n\t\tthis.applyProxy()\n\t}\n\n\tapplyProxy() {\n\t\tlet entity = this._entityAdaptor.entity\n\n\t\tObject.defineProperty(entity, 'stage', {\n\t\t\tget() {\n\t\t\t\treturn this.entityAdaptor.app.stage\n\t\t\t}\n\t\t})\n\t\tentity.addComponent = (componentId: string | Function, enabled: boolean = true) => {\n\t\t\treturn this.addComponent(componentId, true, enabled)\n\t\t}\n\t\tentity.removeComponent = (componentId: string | Function, index?: number) => {\n\t\t\treturn this.removeComponent(componentId, index)\n\t\t}\n\t\tentity.removeAllComponents = () => {\n\t\t\tthis.removeAllComponents()\n\t\t}\n\t\tentity.getComponent = (componentId: string | Function) => {\n\t\t\treturn this.getComponent(componentId)\n\t\t}\n\t\tentity.getComponents = (componentId: string | Function) => {\n\t\t\treturn this.getComponents(componentId)\n\t\t}\n\t\tentity.getAllComponents = () => {\n\t\t\treturn this.getAllComponents()\n\t\t}\n\t\tentity.invokeOnComponents = (methodName: string, args) => {\n\t\t\treturn this.invokeOnComponents(methodName, args)\n\t\t}\n\t}\n\n\t/**\n\t * 遍历组件\n\t * @param callback\n\t */\n\teachComponent(callback: (component: Component, index: number) => unknown) {\n\t\tthis._components.some(<any>callback)\n\t}\n\n\t/**\n\t * 设置激活状态\n\t * @param active\n\t */\n\tsetActive(active: boolean) {\n\t\tthis.eachComponent(component => {\n\t\t\tif (component.enabled) {\n\t\t\t\tif (active) {\n\t\t\t\t\tcomponent.onEnable()\n\t\t\t\t} else {\n\t\t\t\t\tcomponent.onDisable()\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\t/**\n\t * 时钟更新\n\t * @param t\n\t */\n\tonUpdate(t: number) {\n\t\tthis.eachComponent(component => {\n\t\t\tif (component.enabled) {\n\t\t\t\tcomponent.$onUpdate(t)\n\t\t\t}\n\t\t})\n\t}\n\n\t/**\n\t * 交互事件\n\t */\n\tonInteract(type: string, e) {\n\t\tthis.eachComponent(component => {\n\t\t\tif (component.enabled) {\n\t\t\t\tlet method = 'on' + type[0].toUpperCase() + type.substr(1)\n\n\t\t\t\tif (component[method]) {\n\t\t\t\t\tcomponent[method](e)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\t/**\n\t * 添加组件\n\t * @param componentId\n\t * @param awake\n\t * @param enabled\n\t */\n\taddComponent(componentId: any, awake = true, enabled: boolean = false) {\n\t\tlet component = this.$instantiateComponent(componentId)\n\t\tif (!component) {\n\t\t\treturn\n\t\t}\n\n\t\tif(enabled){\n\t\t\tcomponent.enabled = true\n\t\t}\n\t\tthis._add(component, undefined, awake)\n\n\t\treturn component\n\t}\n\n\t/**\n\t * 移除组件\n\t * @param componentId\n\t * @param index\n\t */\n\tremoveComponent(componentId: any, index: number = 0) {\n\t\tlet components\n\t\tswitch (typeof componentId) {\n\t\t\tcase 'string':\n\t\t\t\tcomponents = this._findByName(componentId)\n\t\t\t\tbreak\n\t\t\tcase 'function':\n\t\t\t\tcomponents = this._find(componentId)\n\t\t\t\tbreak\n\t\t}\n\t\tif (index !== undefined) {\n\t\t\tcomponents = [components[index]]\n\t\t}\n\n\t\tthis._remove(components)\n\n\t\treturn components\n\t}\n\n\t/**\n\t * 移除所有组件\n\t */\n\tremoveAllComponents() {\n\t\tthis._removeAll()\n\t}\n\n\t/**\n\t * 获取组件\n\t * @param componentId\n\t */\n\tgetComponent(componentId) {\n\t\tswitch (typeof componentId) {\n\t\t\tcase 'string':\n\t\t\t\treturn this._getByName(componentId)\n\t\t\tcase 'function':\n\t\t\t\treturn this._getOne(componentId)\n\t\t}\n\t}\n\n\t/**\n\t * 获取组件组\n\t * @param componentId\n\t */\n\tgetComponents(componentId) {\n\t\tswitch (typeof componentId) {\n\t\t\tcase 'string':\n\t\t\t\treturn this._findByName(componentId)\n\t\t\tcase 'function':\n\t\t\t\treturn this._find(componentId)\n\t\t}\n\t}\n\n\t/**\n\t * 获取全部组件\n\t */\n\tgetAllComponents() {\n\t\treturn this.all\n\t}\n\n\t/**\n\t * 添加组件\n\t * @param component\n\t * @param index\n\t * @param awake\n\t */\n\tprivate _add(component: Component, index?: number, awake = true) {\n\n\t\tif (index == undefined || index < 0 || index >= this._components.length) {\n\t\t\tindex = this._components.length\n\t\t}\n\n\t\tif (component.entityAdaptor == this._entityAdaptor) {\n\t\t\tindex--\n\t\t}\n\n\t\tconst currentIndex = this._components.indexOf(component)\n\t\tif (currentIndex == index) {\n\t\t\treturn\n\t\t}\n\n\t\tif (currentIndex >= 0) {\n\t\t\tthis._components.splice(currentIndex, 1)\n\t\t}\n\t\tthis._components.splice(index, 0, component)\n\n\t\tif (currentIndex < 0) {\n\t\t\tthis.$onAddComponent(component, awake)\n\t\t}\n\t}\n\n\t/**\n\t * 移除组件\n\t * @param components\n\t */\n\tprivate _remove(components) {\n\t\tfor (let component of components) {\n\t\t\tif (component) {\n\t\t\t\tthis.$onRemoveComponent(component)\n\t\t\t\tconst index = this._components.indexOf(component)\n\t\t\t\tthis._components.splice(index, 1)\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * 移除所有组件\n\t */\n\tprivate _removeAll() {\n\t\twhile (this._components.length > 0) {\n\t\t\tconst component = this._components.shift()\n\t\t\tthis.$onRemoveComponent(component)\n\t\t}\n\t}\n\n\t/**\n\t * 根据组件名称获取指定类的组件列表\n\t * @param componentId\n\t */\n\tprivate _findByName<T extends Component>(componentId: string): T[] {\n\t\tlet components = this._componentsNameMapping[componentId]\n\t\tif (!components) {\n\t\t\tcomponents = this._componentsNameMapping[componentId] = <T[]>this._components.filter((component: Component) => {\n\t\t\t\treturn component.constructor['__class__'] === componentId\n\t\t\t})\n\t\t}\n\t\treturn components\n\t}\n\n\t/**\n\t * 获取指定类的组件列表\n\t * @param clazz\n\t */\n\tprivate _find<T extends Component>(clazz: new() => T): T[] {\n\t\tlet components = this._componentsDefMapping[clazz.name]\n\t\tif (!components) {\n\t\t\tcomponents = this._componentsDefMapping[clazz.name] = <T[]>this._components.filter((component: Component) => {\n\t\t\t\treturn component instanceof clazz\n\t\t\t})\n\t\t}\n\t\treturn components\n\t}\n\n\t/**\n\t * 获取指定类的组件\n\t * @param name\n\t */\n\tprivate _getByName<T extends Component>(name: string): T {\n\t\treturn this._findByName<T>(name)[0]\n\t}\n\n\t/**\n\t * 获取指定类的组件\n\t * @param clazz\n\t */\n\tprivate _getOne<T extends Component>(clazz: new() => T): T {\n\t\treturn this._find<T>(clazz)[0]\n\t}\n\n\t/**\n\t * 获取所有组件\n\t */\n\tprivate get all(): Component[] {\n\t\treturn this._components\n\t}\n\n\t/**\n\t * 调用组件上的方法\n\t * @param methodName\n\t * @param args\n\t */\n\tinvokeOnComponents(methodName, args) {\n\t\tthis.eachComponent(component => {\n\t\t\t//if (component.enabled) {\n\t\t\t\tif (component[methodName]) {\n\t\t\t\t\tcomponent[methodName].apply(component, args)\n\t\t\t\t}\n\t\t\t//}\n\t\t})\n\t}\n\n\t/**\n\t * 当添加组件时\n\t * @param component\n\t * @param awake\n\t */\n\t$onAddComponent(component: Component, awake = true) {\n\t\tthis._componentsNameMapping = {}\n\t\tthis._componentsDefMapping = {}\n\n\t\tif (awake) {\n\t\t\tcomponent.$awake(this._entityAdaptor)\n\t\t}\n\t}\n\n\t/**\n\t * 当移除组件时\n\t * @param component\n\t */\n\t$onRemoveComponent(component: Component) {\n\t\tthis._componentsNameMapping = {}\n\t\tthis._componentsDefMapping = {}\n\n\t\tcomponent.enabled = false\n\t\tcomponent.$destroy()\n\t}\n\n\t$instantiateComponent(componentId: any): Component {\n\t\tlet def = this._app.$getComponentDef(componentId)\n\t\treturn new def()\n\t}\n}\n","/**\n * Created by rockyl on 2018/11/9.\n *\n * 属性装饰器\n */\n\nfunction mutateObject(data, onChange) {\n\tif (!data['__mutated__']) {\n\t\tfor (var key in data) {\n\t\t\tmutateProp(data, key, onChange)\n\t\t}\n\t\tObject.defineProperty(data, \"__mutated__\", {\n\t\t\tvalue: true,\n\t\t\twritable: false,\n\t\t\tenumerable: false,\n\t\t\tconfigurable: false\n\t\t})\n\t}\n}\n\nfunction mutateProp(data: any, key: string, onChange: Function): void {\n\tconst privateKey = '__' + key\n\tconst initValue = data[key]\n\tlet setted = false\n\tObject.defineProperty(data, key, {\n\t\tenumerable: true,\n\t\tconfigurable: false,\n\t\tget: function () {\n\t\t\treturn setted ? this[privateKey] : initValue\n\t\t},\n\t\tset: function (v) {\n\t\t\tif (v == this[privateKey]) return\n\t\t\tsetted = true\n\t\t\tlet oldValue = this[privateKey]\n\t\t\tthis[privateKey] = v\n\t\t\tonChange.apply(this, [v, key, oldValue])\n\t\t}\n\t})\n}\n\n/**\n * 属性修改时触发\n * @param onModify\n */\nexport function watchField(onModify) {\n\treturn function (target: any, key: string) {\n\t\tmutateProp(target, key, onModify)\n\t}\n}\n\n/**\n * 属性可观察\n */\nexport const watchable = watchField(\n\tfunction (value, key, oldValue) {\n\t\tthis['__fieldDirty'] = true\n\t\tthis['$onModify'].apply(this, [value, key, oldValue])\n\t}\n)\n\n/**\n * 属性可深度观察\n */\nexport const deepWatchable = watchField(\n\tfunction (value, key, oldValue) {\n\t\tconst scope = this\n\t\tscope['__fieldDirty'] = true\n\t\tif (typeof value === 'object') {\n\t\t\tif (value.hasOwnProperty('onChange')) {\n\t\t\t\tvalue['onChange'] = this['$onModify']\n\t\t\t} else {\n\t\t\t\tmutateObject(value, onChange)\n\t\t\t}\n\t\t}\n\n\t\tfunction onChange() {\n\t\t\tscope['__fieldDirty'] = true\n\t\t}\n\t}\n)\n","/**\n * Created by rockyl on 2020-04-01.\n */\n\n\n\n/**\n * 隐藏的属性\n */\nexport function hidden(){\n\n}\n","/**\n * Created by rockyl on 2018/11/6.\n *\n */\n\nimport {HashObject} from \"./HashObject\"\nimport {watchable} from \"./decorators\"\nimport {vector2} from \"./ReType\"\n\n/**\n * 2D矢量\n */\nexport class Vector2 extends HashObject implements vector2{\n\t/**\n\t * x分量\n\t */\n\t@watchable x: number\n\t/**\n\t * y分量\n\t */\n\t@watchable y: number\n\n\tonChange: Function\n\n\t/**\n\t * 创建一个2D矢量\n\t * @param x x分量\n\t * @param y y分量\n\t * @param onChange 当改变时触发\n\t */\n\tconstructor(x: number = 0, y: number = 0, onChange?: Function) {\n\t\tsuper()\n\n\t\tthis.onChange = onChange\n\n\t\tthis.setXY(x, y)\n\t}\n\n\t$onModify(value, key, oldValue) {\n\t\tthis.onChange && this.onChange(value, key, oldValue)\n\t}\n\n\t/**\n\t * 设置分量\n\t * @param x\n\t * @param y\n\t */\n\tsetXY(x: number = 0, y: number = 0): Vector2 {\n\t\tthis.x = x\n\t\tthis.y = y\n\n\t\treturn this\n\t}\n\n\t/**\n\t * 从一个向量拷贝分量\n\t * @param v2\n\t */\n\tcopyFrom(v2): Vector2 {\n\t\tthis.x = v2.x\n\t\tthis.y = v2.y\n\t\treturn this\n\t}\n\n\t/**\n\t * 克隆出一个向量\n\t */\n\tclone(): Vector2 {\n\t\treturn new Vector2(this.x, this.y)\n\t}\n\n\t/**\n\t * 把向量置空\n\t */\n\tzero(): Vector2 {\n\t\tthis.x = 0\n\t\tthis.y = 0\n\n\t\treturn this\n\t}\n\n\t/**\n\t * 是不是一个0向量\n\t */\n\tget isZero(): boolean {\n\t\treturn this.x == 0 && this.y == 0\n\t}\n\n\t/**\n\t * 单位化向量\n\t */\n\tnormalize(): Vector2 {\n\t\tlet len = this.length\n\t\tif (len == 0) {\n\t\t\tthis.x = 1\n\t\t\treturn this\n\t\t}\n\t\tthis.x /= len\n\t\tthis.y /= len\n\t\treturn this\n\t}\n\n\t/**\n\t * 是不是一个单位向量\n\t */\n\tget isNormalized(): boolean {\n\t\treturn this.length == 1.0\n\t}\n\n\t/**\n\t * 截取向量长度\n\t * @param max\n\t */\n\ttruncate(max): Vector2 {\n\t\tthis.length = Math.min(max, this.length)\n\t\treturn this\n\t}\n\n\t/**\n\t * 向量反向\n\t */\n\treverse(): Vector2 {\n\t\tthis.x = -this.x\n\t\tthis.y = -this.y\n\t\treturn this\n\t}\n\n\t/**\n\t * 获取点乘\n\t * @param v2\n\t */\n\tdotProd(v2): number {\n\t\treturn this.x * v2.x + this.y * v2.y\n\t}\n\n\t/**\n\t * 获取叉乘\n\t * @param v2\n\t */\n\tcrossProd(v2): number {\n\t\treturn this.x * v2.y - this.y * v2.x\n\t}\n\n\t/**\n\t * 获取长度的平方\n\t * @param v2\n\t */\n\tdistSQ(v2): number {\n\t\tlet dx = v2.x - this.x\n\t\tlet dy = v2.y - this.y\n\t\treturn dx * dx + dy * dy\n\t}\n\n\t/**\n\t * 获取两个向量的距离\n\t * @param v2\n\t */\n\tdistance(v2): number {\n\t\treturn Math.sqrt(this.distSQ(v2))\n\t}\n\n\t/**\n\t * 向量加法\n\t * @param v2\n\t */\n\tadd(v2): Vector2 {\n\t\tthis.x += v2.x\n\t\tthis.y += v2.y\n\t\treturn this\n\t}\n\n\t/**\n\t * 向量减法\n\t * @param v2\n\t */\n\tsubtract(v2): Vector2 {\n\t\tthis.x -= v2.x\n\t\tthis.y -= v2.y\n\t\treturn this\n\t}\n\n\t/**\n\t * 向量乘于某个数\n\t * @param value\n\t */\n\tmultiply(value: number): Vector2 {\n\t\tthis.x *= value\n\t\tthis.y *= value\n\t\treturn this\n\t}\n\n\t/**\n\t * 向量除于某个数\n\t * @param value\n\t */\n\tdivide(value: number): Vector2 {\n\t\tthis.x /= value\n\t\tthis.y /= value\n\t\treturn this\n\t}\n\n\t/**\n\t * 向量角度\n\t * @param value\n\t */\n\tset angle(value: number) {\n\t\tthis.radian = value * Math.PI / 180\n\t}\n\n\tget angle(): number {\n\t\treturn this.radian * 180 / Math.PI\n\t}\n\n\t/**\n\t * 向量弧度\n\t * @param value\n\t */\n\tset radian(value: number) {\n\t\tlet len = this.length\n\t\tthis.setXY(Math.cos(value) * len, Math.sin(value) * len)\n\t}\n\n\tget radian(): number {\n\t\treturn Math.atan2(this.y, this.x)\n\t}\n\n\t/**\n\t * 是否等于某个向量\n\t * @param v2\n\t */\n\tequals(v2): boolean {\n\t\treturn this.x == v2.x && this.y == v2.y\n\t}\n\n\t/**\n\t * 向量长度\n\t * @param value\n\t */\n\tget length(): number {\n\t\treturn Math.sqrt(this.lengthSQ)\n\t}\n\n\tset length(value: number) {\n\t\tlet a = this.radian\n\t\tthis.setXY(Math.cos(a) * value, Math.sin(a) * value)\n\t}\n\n\t/**\n\t * 获取向量长度的平方\n\t */\n\tget lengthSQ(): number {\n\t\treturn this.x * this.x + this.y * this.y\n\t}\n\n\t/**\n\t * 获取向量斜率\n\t */\n\tget slope(): number {\n\t\treturn this.y / this.x\n\t}\n\n\ttoString(): string {\n\t\treturn \"[Vector2 (x:\" + this.x + \", y:\" + this.y + \")]\"\n\t}\n\n\ttoObj() {\n\t\treturn {x: this.x, y: this.y}\n\t}\n\n\ttoArray() {\n\t\treturn [this.x, this.y]\n\t}\n\n\tstatic corner(v1, v2) {\n\t\treturn Math.acos(v1.dotProd(v2) / (v1.length * v2.length))\n\t}\n}\n","/**\n * Created by rockyl on 2020-03-07.\n */\n\nimport {ComponentManager} from \"./ComponentManager\"\nimport {Application} from \"./Application\"\nimport {IEntity} from \"./IEntity\"\n\n/**\n * 实体适配器接口\n */\nexport interface IEntityAdaptor {\n\t/**\n\t * 组件管理实例\n\t */\n\treadonly entity: IEntity\n\t/**\n\t * 实体\n\t */\n\treadonly components: ComponentManager\n\n\t/**\n\t * 获取应用\n\t */\n\treadonly app: Application\n\n\t/**\n\t * 获取激活状态\n\t */\n\tgetActive(): boolean\n\n\t/**\n\t * 设置激活状态\n\t * @param active\n\t */\n\tsetActive(active: boolean)\n\n\tinvokeLifecycle(type: string, ...args)\n\n\tinvokeInteractionEvent(type: string, ...args)\n}\n\n/**\n * 实体适配器基类\n */\nexport abstract class EntityAdaptorBase implements IEntityAdaptor {\n\tprotected readonly _components: ComponentManager\n\tprotected readonly _entity: any\n\tprivate _app: Application\n\n\t/**\n\t * @inheritDoc\n\t */\n\tget components(): ComponentManager {\n\t\treturn this._components\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tget entity() {\n\t\treturn this._entity\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tget app() {\n\t\treturn this._app\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tgetActive(): boolean {\n\t\treturn this._entity.$active\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tsetActive(v: boolean) {\n\t\tif (v !== this.getActive()) {\n\t\t\tthis._entity.$active = v\n\t\t\tthis._components.setActive(v)\n\t\t}\n\t}\n\n\tprotected constructor(entity: any, app: Application) {\n\t\tthis._entity = entity\n\t\tthis._app = app\n\t\tthis._components = new ComponentManager(this, app)\n\n\t\tentity.entityAdaptor = this\n\n\t\tthis.applyProxy()\n\t}\n\n\t/**\n\t * 应用代理\n\t */\n\tapplyProxy() {\n\t\tlet entity = this._entity\n\t\tentity.$active = false\n\n\t\tObject.defineProperty(entity, 'active', {\n\t\t\tget() {\n\t\t\t\treturn this.entityAdaptor.getActive()\n\t\t\t}\n\t\t})\n\t\tentity.instantiate = (docType: any) => {\n\t\t\treturn this._app.instantiate(docType)\n\t\t}\n\t\tentity.setActive = this.setActive.bind(this)\n\t}\n\n\t/**\n\t * 触发生命周期方法\n\t * @param type\n\t * @param args\n\t */\n\tinvokeLifecycle(type: string, ...args) {\n\t\tif (!this.getActive()) {\n\t\t\treturn\n\t\t}\n\n\t\tswitch (type) {\n\t\t\tcase 'update':\n\t\t\t\tconst [delta] = args\n\t\t\t\tthis._components.onUpdate(delta)\n\t\t\t\tbreak\n\t\t}\n\t}\n\n\t/**\n\t * 触发交互事件方法\n\t * @param type\n\t * @param e\n\t */\n\tinvokeInteractionEvent(type: string, e) {\n\t\tif (!this.getActive()) {\n\t\t\treturn\n\t\t}\n\n\t\tthis._components.onInteract(type, e)\n\t}\n}\n","var support = {\n  searchParams: 'URLSearchParams' in self,\n  iterable: 'Symbol' in self && 'iterator' in Symbol,\n  blob:\n    'FileReader' in self &&\n    'Blob' in self &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in self,\n  arrayBuffer: 'ArrayBuffer' in self\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n    var parts = line.split(':')\n    var key = parts.shift().trim()\n    if (key) {\n      var value = parts.join(':').trim()\n      headers.append(key, value)\n    }\n  })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : 'OK'\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = self.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      resolve(new Response(body, options))\n    }\n\n    xhr.onerror = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.ontimeout = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.onabort = function() {\n      reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    xhr.open(request.method, request.url, true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr && support.blob) {\n      xhr.responseType = 'blob'\n    }\n\n    request.headers.forEach(function(value, name) {\n      xhr.setRequestHeader(name, value)\n    })\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!self.fetch) {\n  self.fetch = fetch\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n}\n","/**\n * Created by rockyl on 2020-05-15.\n */\n\nimport 'whatwg-fetch'\nimport {objectStringify} from \"./utils\"\n\n/**\n * 调用接口\n * @param uri\n * @param params\n * @param contentType\n * @param responseType\n * @param credentials\n */\nexport function callApi(uri, {host = '', params = null, method = 'get', credentials = 'include', contentType = 'json',} = {}) {\n\tlet url = host + (uri.startsWith('http') || uri.startsWith('//') ? uri : uri)\n\n\tconst options: any = {\n\t\tmethod,\n\t\theaders: {},\n\t\tcredentials,\n\t}\n\tif (params) {\n\t\tif (method.toLowerCase() === 'post') {\n\t\t\tswitch (contentType) {\n\t\t\t\tcase 'form-data':\n\t\t\t\t\tlet formData = new FormData()\n\t\t\t\t\tfor (let key in params) {\n\t\t\t\t\t\tlet value = params[key]\n\t\t\t\t\t\tif (value instanceof File) {\n\t\t\t\t\t\t\tformData.append(key, value, value.name)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tformData.append(key, value)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\toptions.body = formData\n\t\t\t\t\tbreak\n\t\t\t\tcase 'form':\n\t\t\t\t\toptions.headers['Content-Type'] = 'application/x-www-form-urlencoded'\n\t\t\t\t\toptions.body = objectStringify(params)\n\t\t\t\t\tbreak\n\t\t\t\tcase 'json':\n\t\t\t\t\toptions.headers['Content-Type'] = 'application/json'\n\t\t\t\t\toptions.body = JSON.stringify(params)\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t} else {\n\t\t\turl += (url.indexOf('?') < 0 ? '?' : '')\n\t\t\turl += (url.endsWith('?') ? '' : '&') + objectStringify(params)\n\t\t}\n\t}\n\n\treturn fetch(url, options)\n\t\t.then(\n\t\t\tresponse => {\n\t\t\t\treturn response.text()\n\t\t\t}\n\t\t)\n\t\t.then(\n\t\t\trespText => {\n\t\t\t\ttry {\n\t\t\t\t\tlet jsonObj = JSON.parse(respText)\n\t\t\t\t\tif (jsonObj.code === 0) {\n\t\t\t\t\t\treturn jsonObj.data\n\t\t\t\t\t}\n\n\t\t\t\t\treturn Promise.reject(new Error('call api failed'))\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn Promise.reject(e)\n\t\t\t\t}\n\t\t\t}\n\t\t)\n}\n"],"names":["tslib_1.__extends","tslib_1.__decorate","fetch"],"mappings":"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"}